<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="color-scheme" content="light dark" />
<title>2xh's website</title>
<link rel="shortcut icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAAQEAAAEAIAAwAAAAFgAAACgAAAABAAAAAgAAAAEAIAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAA==" />
<style type="text/css">body,table{text-align:center}p{color:dimgray}a:hover{color:black}a:active{color:red}@media(prefers-color-scheme:dark){p{color:lightgray}a:hover{color:white}a:active{color:lime}}</style>
</head>
<body onscroll="if(document.documentElement.scrollTop||document.body.scrollTop){if(totop.style.display)totop.style.display=''}else{if(!totop.style.display)totop.style.display='none'}" onbeforeunload="return output.innerHTML?'':undefined" onunload="func.reset()">
<h1>Welcome!</h1><p>Note: All scripts have been downloaded to this device, and all functions can be executed offline, without data consumption.<br><a href="#" style="font-weight:bold" title="Only current language will be saved&#10;(Save manually if not working)" download>Save this page</a> for further use!</p><noscript><p style="font-weight:bold;color:red">Javascript unavailable. Enable for a better experience.</p></noscript>
<form id="func" action="javascript:execute[func.elements[0].value](output,func.elements[1].value)">
<script type="text/javascript">var execute={geolocation:function(out){out.innerHTML='Getting your location...';navigator.geolocation.getCurrentPosition(function(pos){out.innerHTML='Length unit: m Angle unit: °<br>';for(var name in pos.coords)if(pos.coords[name]!==null)out.innerHTML+=name+': '+pos.coords[name]+'<br>';out.innerHTML+='<input type="button" onclick="func.elements[2].disabled=true;func.elements[3].disabled=true;var stop=\'<input type=&quot;button&quot; onclick=&quot;var out=this.parentNode;navigator.geolocation.clearWatch(watch);func.elements[2].disabled=false;func.elements[3].disabled=false;watch=undefined;out.removeChild(this);out.innerHTML+=\\\'Stopped\\\'&quot; value=&quot;Stop&quot;>\';window.watch=navigator.geolocation.watchPosition(function(pos){output.innerHTML=\'Watching...<br>\';for(var name in pos.coords)if(pos.coords[name]!==null)output.innerHTML+=name+\': \'+pos.coords[name]+\'<br>\';output.innerHTML+=stop},function(err){var type=[\'Permission denied\',\'Position unavailable\',\'Timeout\'];output.innerHTML=type[err.code-1]+\'<br>\'+stop},{enableHighAccuracy:true})" value="Watch(High accuracy)">'},function(err){var type=['Permission denied','Position unavailable','Timeout'];out.innerHTML=type[err.code-1]})},userAgent:function(out){out.innerHTML=navigator.userAgent},vibrate:function(out,arg){arg=arg.split(' ');out.innerHTML='Vibrating for '+arg+' ms';navigator.vibrate(arg)},DeviceMotion:function(out){func.elements[2].disabled=true;func.elements[3].disabled=true;var stop='<input type="button" onclick="var out=this.parentNode;window.removeEventListener(\'devicemotion\',handler);handler=undefined;func.elements[2].disabled=false;func.elements[3].disabled=false;out.removeChild(this);out.innerHTML+=\'Stopped\';" value="Stop">';window.handler=function(motion){out.innerHTML='Linear acceleration unit: m/s²<br>Angular velocity unit: °/s<table border="1"><tr><th>Axis</th><th>Name</th><th>Rotation angle around this axis</th></tr><tr><td>↔</td><td>x</td><td>alpha</td></tr><tr><td>↕</td><td>y</td><td>beta</td></tr><tr><td>·</td><td>z</td><td>gamma</td></tr></table>';var data='';for(var name in motion.acceleration)if(motion.acceleration[name]!==null)data+=name+': '+motion.acceleration[name]+'<br>';for(var name in motion.rotationRate)if(motion.rotationRate[name]!==null)data+=name+': '+motion.rotationRate[name]+'<br>';data===''?out.innerHTML+='Sensor is not available<br>':out.innerHTML+=data;out.innerHTML+=stop};DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(function(status){if(status==='granted')window.addEventListener('devicemotion',handler)}):window.addEventListener('devicemotion',handler);out.innerHTML='Unable to get device motion<br>'+stop},Notify:function(out,arg){if(arg==='?'){out.innerHTML='Syntax: &lt;title&gt;[``body[``icon[``onclick[``onshow[``onerror[``onclose]]]]]]';return};arg=arg.split('``');Notification.requestPermission().then(function(status){if(status==='granted'){window.msg=new Notification(arg[0],{body:arg[1],icon:arg[2]});msg.onclick=new Function(arg[3]);msg.onshow=new Function(arg[4]);msg.onerror=new Function(arg[5]);msg.onclose=new Function(arg[6]);out.innerHTML='Notification sent<br><input type="button" onclick="msg.close();this.parentNode.innerHTML=\'Closed\'" value="Close">'}else{out.innerHTML='Permission denied'}})},copy:function(undefined,arg){if(arg==='?'){var elements=document.getElementsByTagName('*'),id=[];for(var element=0;element<elements.length;element++)if(elements[element].id)id.push(elements[element].id);alert('Elements containing id:\n'+id);return};if(document.getElementById(arg)){if(window.getSelection){window.getSelection().selectAllChildren(document.getElementById(arg));document.execCommand('copy')}else{alert(window.clipboardData.setData('text',document.getElementById(arg).innerText)?'OK':'Failed')}}else{alert('Not found')}},custom:function(out,code){out.innerHTML='';try{new Function('output',code)(out)}catch(err){out.innerHTML='<p style="font-weight:bold;color:red">'+(err.stack?err.stack.indexOf(err.message)!==-1?err.stack.replace(/\n/g,'<br>'):err.name+': '+err.message+'<br>'+err.stack.replace(/\n/g,'<br>'):err.name+': '+err.message)+'</p>'+out.innerHTML}},readfile:function(out){out.innerHTML='<input type="file" onchange="info.innerHTML=\'\';if(!window.reader){window.reader=new FileReader();reader.onabort=function(){result.innerHTML=\'Aborted\'}};window.files=this.files;for(var file=0;file<files.length;file++){for(var name in files[file])if(typeof files[file][name]!==\'function\')info.innerHTML+=name+\': \'+files[file][name]+\'<br>\';if(/html|css|javascript/i.test(files[file].type))info.innerHTML+=\'<input type=&quot;button&quot; onclick=&quot;switch(window.files[\'+file+\'].type){case \\\'text/javascript\\\':reader.onload=function(event){var js=document.createElement(\\\'script\\\');js.type=\\\'text/javascript\\\';js.innerHTML=event.target.result;result.appendChild(js)};break;case \\\'text/html\\\':reader.onload=function(event){window.open(\\\'javascript:document.write(innerHTML);innerHTML=undefined;document.close()\\\').innerHTML=event.target.result};break;case \\\'text/css\\\':reader.onload=function(event){var css=document.createElement(\\\'style\\\');css.type=\\\'text/css\\\';css.innerHTML=event.target.result;result.appendChild(css)}};reader.readAsText(window.files[\'+file+\'],\\\'\'+(isansi.checked?\'windows-1252\':\'utf-8\')+\'\\\')&quot; value=&quot;Read & Run&quot;>\';info.innerHTML+=\'<input type=&quot;button&quot; onclick=&quot;reader.onload=function(event){result.innerText=event.target.result};reader.readAsText(window.files[\'+file+\'],\\\'\'+(isansi.checked?\'windows-1252\':\'utf-8\')+\'\\\')&quot; value=&quot;Read & Display&quot;><input type=&quot;button&quot; onclick=&quot;reader.onload=function(event){result.innerHTML=event.target.result};reader.readAsDataURL(window.files[\'+file+\'],\\\'\'+(isansi.checked?\'windows-1252\':\'utf-8\')+\'\\\')&quot; value=&quot;Convert to Base64&quot;><br>\'}" multiple><label><input type="checkbox" id="isansi">ANSI</label><br><span id="info"></span><span id="result" style="word-break:break-all"></span>'}}</script>
<select name="function" onchange="var selected=this.options[this.selectedIndex],arg=this.parentNode.elements[1];(arg.disabled=selected.getAttribute('data-required')===null)?arg.removeAttribute('placeholder'):arg.placeholder=selected.getAttribute('data-required')" required>
<option value="" hidden>Choose a function</option>
<optgroup label="Display something">
<option value="geolocation">Show/Watch location</option>
<option value="userAgent">Show User Agent(UA)</option>
<option value="DeviceMotion">Watch device motion</option>
</optgroup>
<optgroup label="Do something">
<option value="vibrate" data-required="Time(ms), split by space">Vibrate</option>
<option value="Notify" data-required="Options, type &quot;?&quot; for help">Show a notification</option>
<option value="copy" data-required="Element, type &quot;?&quot; for id">Copy</option>
<option value="custom" data-required="Input or paste code">Run Javascript</option>
<option value="readfile">Read files</option>
</optgroup>
</select>
<script type="text/javascript">(function(nosupport,options){for(var option=0;option<options.length;option++)if(nosupport[options[option].value]){options[option].disabled=true;options[option].innerHTML+=" (Unsupported)"}})({geolocation:!navigator.geolocation,vibrate:!navigator.vibrate,DeviceMotion:!window.DeviceMotionEvent,Notify:!window.Notification,readfile:!window.FileReader},func.elements[0].options)</script>
<input type="text" name="arg" disabled required><input type="submit"><input type="reset" onclick="output.innerHTML='';for(var i=0,removal=['files','msg','reader'];i<removal.length;i++)if(window[removal[i]])window[removal[i]]=undefined">
</form>
<span id="output" style="display:inline-block;text-align:justify"></span><br><br><br>
<div style="position:fixed;bottom:0;width:100%"><input type="button" id="totop" style="display:none" onclick="var timer=setInterval(function(){document.documentElement.scrollTop||document.body.scrollTop?window.scrollBy(0,-100):clearInterval(timer)},10)" value="Go to top"><br><a href="https://github.com/2xh/2xh.github.io" title="On Github">Source</a> | <a href="https://github.com/2xh/2xh.github.io/issues">Feedback</a> | <label>Language:<select onchange="var lang=this.value;this.selectedIndex=0;window.location='index'+lang+'.htm'"><option value="" hidden>English</option><option value="_zh-Hans">中文(简体)</option></select></label></div>
</body>
</html>
