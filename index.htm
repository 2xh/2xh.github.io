<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="color-scheme" content="light dark" />
<title data-lang="0">Hello, Website!</title>
<link rel="icon" type="image/gif" href="data:image/gif;base64,R0lGODlhEAAQAPD/AICAgAAAACH5BAUAAAIALAAAAAAQABAAAAImlI+py+0NFIgpUkOvuBl1FATTCIRKSE6mh7HboX2thtHvg+d6XgAAOw==" />
<style type="text/css">body,table{text-align:center}p{color:rgb(64,64,64)}a:hover{color:black}a:active,input[type="reset"]:enabled{color:red}input[type="submit"],[type="reset"]{font-weight:bold}ol,ul{padding-left:1em}textarea{width:100%;height:15em}.cover{background-color:rgba(255,255,255,0.75)}.even{background-image:linear-gradient(white,silver 1em calc(100% - 1em),white);padding:1em 0}.error{font-weight:bold;color:red}.warn{font-weight:bold;color:orange}@media(prefers-color-scheme:dark){p{color:silver}a:hover{color:white}a:active{color:lime}.cover{background-color:rgba(0,0,0,0.5)}.even{background-image:linear-gradient(black,rgb(64,64,64) 1em calc(100% - 1em),black)}}</style>
<script type="text/javascript">var l={change:function(t){if(t)this.c=this[t]||this.en;var es=document.getElementsByTagName("*");for(var e=0,i;e<es.length;e++){if(i=es[e].getAttribute("data-lang"))es[e].innerHTML=this.c.s[i];if(i=es[e].getAttribute("data-title"))es[e].title=this.c.s[i];if(i=es[e].getAttribute("data-value"))es[e].value=this.c.s[i]};checkCompatibility({geolocation:!navigator.geolocation,vibrate:!navigator.vibrate,DeviceMotion:!window.DeviceMotionEvent,Notify:!window.Notification,readfile:!window.FileReader,audio:!(window.AudioContext||window.webkitAudioContext),speak:!window.speechSynthesis,workers:!window.Worker,getMedia:!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia)},func.elements[0].options,output)},en:{s:['Hello, Website!','Website Demo','Some simple test of somewhat useful APIs in HTML5','Note: All scripts have been cached, and can be executed offline.<br>To reduce data consumption, <a href="#" style="font-weight:bold" title="Current language only\n(Save manually if not working)" download="">save this page</a>.','This website requires Javascript. Enable to use advanced features.','<option value="" hidden="">Choose a function</option><optgroup label="See and Hear"><option value="geolocation">Show/Watch location</option><option value="basicInfo">Show basic infomation</option><option value="DeviceMotion">Watch device motion</option><option value="audio" data-ph="Parameters, input , for help">Mixer</option><option value="speak" data-ph="Text, leave blank for options">Text To Speech (TTS)</option><option value="getMedia" data-ph="Settings (JSON, Optional)">Watch media stream</option></optgroup><optgroup label="Do some things"><option value="vibrate" data-ph="Time (ms), split by space" data-rq="">Vibrate</option><option value="Notify" data-ph="Options, leave blank for help">Show a notification</option><option value="copy" data-ph="Exp, leave blank for id">Copy</option><option value="readfile" data-ph="Types, input . to read folder">Read files</option><option value="randomNum" data-ph="<start> <end> [step] [count]" data-rq="">Random numbers</option></optgroup><option value="debugMode">Enable debug mode</option><optgroup label="Debug" disabled=""><option value="custom" data-ph="Code, leave blank for editor">Run Javascript</option><option value="workers" data-ph="Syntax: integer[``code]">Multi threads</option></optgroup>','Go to top','Right click to do instantly','Source','On GitHub','Feedback','Language:','UTF-8','UTF-16 Little Endian','UTF-16 Big Endian','GBK','ANSI','Screen wake lock'],d:['Getting your location…','Length unit: m Angle unit: °<br>','Stopped','Stop','Watching…<br>','Travelled: ','Average speed: ',['Permission denied','Position unavailable','Timeout'],'Watch (High accuracy)','User Agent (UA): ','Platform: ','Network state: ','Online','Offline','Logical processor cores: ','(Unsupported)','Max touch points: ','Vibrating for','Failed','Linear acceleration unit: m/s²<br>Angular velocity unit: °/s<br>','What do x, y, z and alpha, beta, gamma mean?','Device motion:','Raw data','Gravitational acceleration','Device orientation:','Sensor is not available','<b>Estimated value:</b><table border="1" style="word-break:break-all"><tr><th>Axis</th><th>Acceleration</th><th>Velocity</th><th>Displacement</th></tr>','Total','In reference to the Earth’s coordinate frame','Absolute value','Permission denied','Syntax: <code style="word-break:break-all">title[``body[``icon[``onclick[``onshow[``onerror[``onclose]]]]]]</code>','Notification has been sent','Closed','Close','Elements containing id:\n','Success','Please copy manually','Input code here','Right click to run in a Worker&#10;(Clearing input)','Run','An error occurred','Loaded <b>',' Bytes / ',' Bytes</b> ','The popup window is blocked','Finish','Some types are not supported','Play','Left click to display&#10;Right click to copy','(Text only)','Read','Character set:','Default: ','Clear output','Play all','Pause all','Play paused; Pause playing','Switch all','Global rate:','Negative value = multiplier','Keyboard shortcuts:&#10;(Focus must be on the media)&#10;Number keys: Input speed&#10;Enter: Apply speed (clear input automatically)&#10;+-*/: Adjust speed by input&#10;Backspace is available; Press Delete to clear input manually','Columns:','Auto','Pause','Resume','Please wait…','Type:',['Sine','Square','Sawtooth','Triangle','Custom'],'Input real array: (At least 2 values, split by ,)\nIf only 1 value (count) present, a random array will be generated','Input imaginary array: (',' values, split by ,)\nIf the length is wrong, this prompt will not dismiss','Complete','Set Periodic Wave','Frequency:','Adjust:','1: -Octave&#10;2: -Semitone&#10;3: Random (right click)&#10;4: +Semitone&#10;5: +Octave','Buffer:','Detune:','If not chosen, this node will be automaticly removed when buffer finishes','Loop','Rate:','Media stream:','Volume:','Pan:',['Low pass','High pass','Band pass','Low shelf','High shelf','Peaking','Notch','All pass'],'Gain:','Curve:','Right click to generate random values','Array with ≥ 2 values between -1 and 1:','Cleared','Syntax: <count>[,start,end[,step]]','Set Curve','Oversample:','Connect to:','Channel count:','Remove','Empty','Media stream is not available.\nGo to "Watch media stream" and start audio.','An error occurred: The audio track is not enabled.\n\n','Removed','Output','No file is selected.\nGo to "Read files" and select an audio file.\nNote: Do not "reset" the output, otherwise the selection will be cleared.','Attempting to open file ',', but only ',' file(s) present.','Error! ','Failed to create ',', maybe due to insufficient memory?','Sample rate: ','Hz','Length: ',' frames','Channel:','Fill','Cancel','Edit content','Input source channel:','Source offset: ','(Optional)','Input length:','Illegal source input','Input destination buffer:','Input destination channel:','Target offset: ','Illegal target input','Copy between channels','This is only the tip of the iceberg—<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a>.','Mode: ','Duration: ','Warning: Too many nodes or buffers will crash the browser!','Pitch to frequency converter','Pitch','Frequency','Pitch: ','Paste in &quot;Frequency&quot; field','Add to data list','Clear data list','Clear data and stop?','Frame count','File number (Read files)',['Audio Buffer','Decoded File'],'Now editing: ','New Audio Data','Clear Audio Data','Editor','This editor will help fill buffers with some random noise (32 bit float PCM).<br><b>Data of channels are stored separately</b>, do not forget!<br>Changes will take effect <b>when click on the "Fill" button</b>. (May take some time)','Outer loop: ','Start:','End:','Step:','Inner loop: ','Random range:',['Oscillator','Audio Buffer Source','Media Stream Audio Source'],'New Node (Source)',['Gain','Stereo Panner','Biquad Filter','Wave Shaper','Dynamics Compressor'],'New Node (Process)','Voice: ','Rate: ','New Utterance',' (Default)',' voices','Speak','Paused at character ','','Elapsed time: ','m','s','Reset','Current state: ','Idle','Clear data and reset?','Reset','Input text here','Current setting: ','Save','Options: ','Template:','Saved templates: ','Clear','Illegal input<br>Input a positive integer to add threads, a negative integer to remove threads (according to sequence), or 0 to show thread count.<br>If custom code is needed, input a positive integer, then input "``" with some code following closely.<br>(Default code (For CPU test): <code>while(true){}</code>)','Current threads: ','Media devices:','Use this device','Settings supported by this browser:','Will not ignore unsupported settings','Force','Audio',['Auto Gain Control','Channel Count','Echo Cancellation','Latency','Noise Suppression','Sample Rate','Sample Size'],'Video',['Aspect Ratio','Facing',['Front','Back','Left','Right'],'Frame Rate','Height','Width','Resize Mode',['None','Crop and scale']],'Device ID','Update','Start','Test','Preview:','At least 2 parameters required','Output:','Width:','Aborted','Abort','Q:','Web Worker is unsupported','None','Settings','(Unknown)','Speaking','Paused','Done','',' unsupported functions detected.<br>The experience may be affected.',['x axle:','y axle:','z axle:'],'dB','Threshold:','Smooth:','Ratio:','Compress:','Release:','Export WAV','Is it OK to download the file?','Size: ','Bytes','Illegal input<br>Valid input: (Only works when stopped)<br><code>;For play: No parameter or 1 number: &ltSample Rate&gt;<br>For processing: 3 numbers: &ltChannels&gt;,&ltLength&gt;,&ltSample Rate&gt;</code>','Process','All nodes will be cleared, continue?','Trim test result:','Front: ','Samples','Rear: ','Right click to enter process mode','Right click to do trim test','Timestamp: ']},zhCN:{s:['你好，网站！','网站演示','一些HTML5中有点用的API的简单测试','注：脚本已缓存，可脱机运行。<br>为减少流量消耗，可<a href="#" style="font-weight:bold" title="仅当前语言&#10;(如果不起作用，请手动保存)" download>保存本页</a>。','此网站需要Javascript。启用以使用高级功能。','<option value="" hidden="">选择功能</option><optgroup label="视与听"><option value="geolocation">显示/监视位置</option><option value="basicInfo">显示基本信息</option><option value="DeviceMotion">监视设备运动</option><option value="audio" data-ph="参数，输入 , 查看帮助">调音台</option><option value="speak" data-ph="文本，留空显示选项">文本转语音 (TTS)</option><option value="getMedia" data-ph="设定 (JSON，可选)">观看媒体流</option></optgroup><optgroup label="做些事"><option value="vibrate" data-ph="时间 (ms)，用空格分隔" data-rq="">振动</option><option value="Notify" data-ph="选项，留空获取帮助">显示通知</option><option value="copy" data-ph="表达式，留空显示id">复制</option><option value="readfile" data-ph="类型，输入 . 以读取文件夹">读取文件</option><option value="randomNum" data-ph="<起> <止> [步进] [数量]" data-rq="">随机数</option></optgroup><option value="debugMode">启用调试模式</option><optgroup label="调试" disabled=""><option value="custom" data-ph="代码，留空显示编辑器">运行Javascript</option><option value="workers" data-ph="语法：整数[``代码]">多线程</option></optgroup>','返回顶部','右击以瞬间执行','源代码','在GitHub上','反馈','语言：','UTF-8','UTF-16 小端','UTF-16 大端','GBK','ANSI','屏幕唤醒锁定'],d:['正在获取位置⋯⋯','长度单位：m 角度单位：°<br>','已停止','停止','监视中⋯⋯<br>','路程: ','平均速率: ',['拒绝访问','位置不可用','超时'],'监视 (高精度)','用户代理 (UA)：','平台：','网络状态：','在线','离线','逻辑处理器核心：','(不支持)','最大触摸点：','振动','失败','线性加速度单位：m/s²<br>角速度单位：°/s<br>','x、y、z和alpha、beta、gamma是什么意思？','设备运动：','原始数据','重力加速度','设备方向：','传感器不可用','<b>估测值：</b><table border="1" style="word-break:break-all"><tr><th>轴</th><th>加速度</th><th>速度</th><th>位移</th></tr>','合计','关于地球坐标系','绝对值','拒绝访问','语法：<code style="word-break:break-all">标题[``内容[``图标[``点击时执行的语句[``显示时执行的语句[``出错时执行的语句[``关闭时执行的语句]]]]]]</code>','通知已发送','已关闭','关闭','含有id的元素：\n','成功','请手动复制','在此输入代码','右击以在Worker中运行&#10;(清空输入)','运行','发生错误','已加载 <b>',' 字节 / ',' 字节</b> ','弹出窗口被阻止','完成','某些格式不被支持','播放','左击以显示&#10;右击以复制','(仅限文本)','读取','字符集：','默认值：','清空输出','全部播放','全部暂停','播放暂停的; 暂停播放的','全部切换','全局速度：','负值=倍数','键盘快捷键:&#10;(焦点必须在媒体上)&#10;数字键: 输入速率&#10;回车: 应用速率 (自动清空输入)&#10;+-*/: 按输入调整速率&#10;退格键可用; 按下 Delete 以手动清空输入','列数：','自动','暂停','恢复','请稍候⋯⋯','类型：',['正弦波','方波','锯齿波','三角波','自定义'],'输入实数数组：(至少2个数值，用 , 分隔)\n如只提供1个数值 (数量)，将会生成一个随机数组','输入虚数数组：(','个数值，用 , 分隔)\n如长度错误，此提示将不会消失','完成','设置周期波','频率：','调整：','1: -八度&#10;2: -半音&#10;3: 随机（右击）&#10;4: +半音&#10;5: +八度','缓冲区：','调音：','如未选中，此节点将在缓冲区播放完成后自动移除','循环','速率：','媒体流：','音量：','平衡：',['低通','高通','带通','低频搁架','高频搁架','尖峰','陷波','全通'],'增益：','曲线：','右击以生成随机数','≥2个介于-1和1之间的数的数组:','已清空','语法：<数量>[,起,止[,步进]]','设置曲线','过采样：','连接到：','声道数量：','移除','空','媒体流不可用。\n前往“观看媒体流”启用音频。','发生错误: 音频未启用。\n\n','已移除','输出','没有选择文件。\n前往“读取文件”选取一个音频文件。\n注意：请勿“重置”输出，否则选择会被清除。','试图打开文件 ',' ，但是只有 ',' 个文件存在。','错误！','创建','失败，可能是因为内存不足？','采样频率：','Hz','长度：','帧','声道：','填充','取消','编辑内容','输入源声道：','源偏移：','(可选)','输入长度：','非法源输入','输入目标缓冲区：','输入目标声道：','目标偏移：','非法目标输入','声道间复制','这只是<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a>的冰山一角。','模式：','时长：','警告：过多的节点或缓冲区会使浏览器崩溃！','音高到频率转换器','音高','频率','音高：','粘贴到&quot;频率&quot;字段','添加到数据列表','清空数据列表','清除数据并停止？','帧数','文件序号 (读取文件)',['音频缓冲区','解码的文件'],'正在编辑：','新音频数据','清空音频数据','编辑器','此编辑器将帮助向缓冲区填充一些随机噪音（32位浮点PCM）。<br><b>不同声道的数据分开存放</b>，请注意。<br>所做的更改将会在<b>点击“填充”按钮时</b>生效。（可能需要一些时间）','外层循环：','起始：','终止：','步长：','内层循环：','随机范围：',['振荡器','音频缓冲区源','媒体流音频源'],'新节点 (音源)',['音量','立体声平衡','双二阶滤波器','波形整形器','动态压缩器'],'新节点 (处理)','语种：','语速：','新发音',' (默认)','语音','讲话','在第','个字符处暂停','用时：','m','s','重置','当前状态：','空闲','清除数据并重置？','已重置','在此输入文本','当前设置：','保存','选项：','模板：','保存的模板：','清空','非法输入<br>输入一个正整数以添加线程，一个负整数以移除线程（按顺序），或0以查看线程数。<br>如需自定义代码，输入一个正整数，然后输入“``”和紧跟着的一些代码。<br>（默认代码 (用于CPU测试): <code>while(true){}</code>）','当前线程数：','媒体设备：','使用此设备','此浏览器支持的设定：','不会忽略不支持的设定','强制','音频',['自动音量控制','声道数量','回声消除','延迟','降噪','采样频率','量化位数'],'视频',['宽高比','朝向',['前','后','左','右'],'帧率','高度','宽度','缩放模式',['无','裁剪缩放']],'设备ID','更新','开始','测试','预览：','输出：','至少需要2个参数','宽度：','已中止','中止','Q：','不支持Web Worker','无','设定','(未知)','讲话中','暂停','完成','检测到','个不支持的功能。<br>体验可能会受到影响。',['x轴：','y轴：','z轴：'],'dB','阈值：','平滑：','比率：','压缩：','释放：','导出WAV','要下载文件吗？','大小：','字节','非法输入<br>合法的输入：（仅在停止时有效）<br><code>用于输出：无参数 或 1个数字：&lt采样频率&gt;<br>用于播放：3个数字：&lt;声道数量&gt;,&lt长度&gt;,&lt采样频率&gt;</code>','处理','所有节点将会清空，继续？','剪裁测试结果：','前：','样本','后：','右击以进入处理模式','右击以进行剪裁测试','时间戳：']}}</script>
</head>
<body style="margin-bottom:3em" onbeforeunload="return output.children.length-output.getElementsByTagName('br').length?'':undefined" onpagehide="func.reset()">
<h1 data-lang="1">Website Demo</h1><p data-lang="2">Some simple test of somewhat useful APIs in HTML5</p><p data-lang="3">Note: All scripts have been cached, and can be executed offline.<br>To reduce data consumption, <a href="#" style="font-weight:bold" title="Current language only&#10;(Save manually if not working)" download>save this page</a>.</p><noscript><p class="error" data-lang="4">This website requires Javascript. Enable to use advanced features.</p></noscript>
<form id="func" action="javascript:if(func.elements[0].value)execute[func.elements[0].value](output,func.elements[1].value)" onreset="var arg=this.elements[1];arg.disabled=true;arg.removeAttribute('placeholder')">
<script type="text/javascript">'use strict';var execute={debugMode:function(){var e=func.elements[0];e.children[4].disabled=false;e.removeChild(e.children[3])},blobWorker:function(code,count,customErr){if(!window.Worker){alert(l.c.d[202]);throw Worker};var url=window.URL.createObjectURL(new Blob([code])),workers=[];for(var i=0;i<(count||1);i++)workers[workers.push(new Worker(url))-1].onerror=customErr||function(err){var p=document.createElement('p');p.className='error';p.style['word-break']='break-all';p.innerHTML=err.message;output.appendChild(p);this.terminate()};return {workers:workers,url:url}},wait:function(sec){if(window.wait){return true}else{window.wait=true;setTimeout(function(){window.wait=undefined},sec||1000)};return false},wakeLock:function(set){if(!navigator.wakeLock)return -1;if(set){if(window.wake)return 1;navigator.wakeLock.request().then(function(e){window.wake=e})}else{if(!window.wake)return 2;window.wake.release().then(function(){window.wake=null})};return 0},random:function(count,from,to,step){count=parseInt(count);if(isNaN(count)){throw new TypeError(count+' is not an integer')};if(count<1||count>4294967295){throw new RangeError('An unsigned 32-bit positive integer is required')};step=parseFloat(step);if(isNaN(step))step=0;if((to-from)*step<0){throw new RangeError('Step ('+step+') and '+(to-from)+' must have the same sign')};var genNum=new Array(count);if(step===0){var m=to-from;for(var i=0;i<count;i++)genNum[i]=Math.random()*m+(+from)}else{var m=Math.ceil(Math.abs((to-from)/step));for(var i=0;i<count;i++)genNum[i]=Math.floor(Math.random()*m)*step+(+from)};return genNum},geolocation:function(out){out.innerHTML=l.c.d[0];navigator.geolocation.getCurrentPosition(function(pos){out.innerHTML=l.c.d[1];for(var name in pos.coords)if(pos.coords[name]!==null&&!isNaN(pos.coords[name]))out.innerHTML+=name+': '+pos.coords[name]+'<br>';out.innerHTML+=l.c.d[231]+new Date(pos.timestamp).toString()+'<br><input type="button" onclick="func.elements[2].disabled=true;func.elements[3].disabled=true;var stop=\'<input type=&quot;button&quot; onclick=&quot;var out=this.parentNode;navigator.geolocation.clearWatch(watch);func.elements[2].disabled=false;func.elements[3].disabled=false;watch=motion=undefined;out.removeChild(this);out.innerHTML+=l.c.d[2]&quot; oncontextmenu=&quot;if(window.motion){motion.reset=true;return false}&quot; value=&quot;\'+l.c.d[3]+\'&quot;>\';window.watch=navigator.geolocation.watchPosition(function(pos){var data=l.c.d[4];if(!window.motion||window.motion.reset)window.motion={s:0,startTime:pos.timestamp,preTime:pos.timestamp};var t=pos.timestamp-motion.preTime;motion.preTime=pos.timestamp;if(pos.coords.speed)motion.s+=pos.coords.speed*t/1000;var v=motion.s*1000/(pos.timestamp-motion.startTime);for(var name in pos.coords)if(pos.coords[name]!==null&&!isNaN(pos.coords[name]))data+=name+\': \'+pos.coords[name]+\'<br>\';if(motion.s)data+=l.c.d[5]+motion.s+\'<br>\'+l.c.d[6]+v+\'<br>\'+l.c.d[129]+(pos.timestamp-motion.startTime)/1000+\'<br>\';output.innerHTML=data+l.c.d[231]+new Date(pos.timestamp).toString()+\'<br>\'+stop},function(err){var type=l.c.d[7];output.innerHTML=type[err.code-1]+\'<br>\'+stop},{enableHighAccuracy:true})" value="'+l.c.d[8]+'">'},function(err){var type=l.c.d[7];out.innerHTML=type[err.code-1]},{timeout:10000})},basicInfo:function(out){out.innerHTML=l.c.d[9]+'<code>'+navigator.userAgent+'</code><br>'+l.c.d[10]+navigator.platform+'<br>'+l.c.d[11]+(navigator.onLine?l.c.d[12]:l.c.d[13])+'<br>'+l.c.d[14]+(navigator.hardwareConcurrency||l.c.d[15])+'<br>'+l.c.d[16]+('maxTouchPoints' in navigator?navigator.maxTouchPoints:l.c.d[15])},vibrate:function(out,arg){arg=arg.split(' ');out.innerHTML=navigator.vibrate(arg)?l.c.d[17]+' '+arg+' '+l.c.d[166]+l.c.d[167]:l.c.d[18]},DeviceMotion:function(out){func.elements[2].disabled=func.elements[3].disabled=true;out.innerHTML=l.c.d[19]+'<a href="https://developer.mozilla.org/en-US/docs/Web/API/Device_orientation_events/Orientation_and_motion_data_explained">'+l.c.d[20]+'</a><br><b>'+l.c.d[21]+'</b> <label>'+l.c.d[22]+'<input type="checkbox" id="raw" onchange="gx.disabled=gy.disabled=gz.disabled=g.disabled=!this.checked" checked></label> <input type="button" id="g" onclick="if(!window.motion)return;gx.value=motion.x;gy.value=motion.y;gz.value=motion.z" value="'+l.c.d[23]+'"><br><label>'+l.c.d[211][0]+'<input type="number" id="gx" step="0.001" value="0"></label><br><label>'+l.c.d[211][1]+'<input type="number" id="gy" step="0.001" value="0"></label><br><label>'+l.c.d[211][2]+'<input type="number" id="gz" step="0.001" value="9.8"></label><div id="mt"></div><b>'+l.c.d[24]+'</b><div id="ot"></div><input type="button" onclick="var out=this.parentNode;window.removeEventListener(\'devicemotion\',handler.m);\'ondeviceorientationabsolute\' in window?window.removeEventListener(\'deviceorientationabsolute\',handler.o):window.removeEventListener(\'deviceorientation\',handler.o);handler=motion=undefined;func.elements[2].disabled=func.elements[3].disabled=false;gx.disabled=gy.disabled=gz.disabled=g.disabled=raw.disabled=true;out.removeChild(this);out.innerHTML+=l.c.d[2];" oncontextmenu="if(window.motion){window.motion={a:{},v:{x:0,y:0,z:0},s:{x:0,y:0,z:0}};return false}" value="'+l.c.d[3]+'">';window.handler={m:function(m){var accel=raw.checked?'accelerationIncludingGravity':'acceleration';var data='';for(var name in m[accel])if(m[accel][name]!==null)data+=name+': '+m[accel][name]+'<br>';for(var name in m.rotationRate)if(m.rotationRate[name]!==null)data+=name+': '+m.rotationRate[name]+'<br>';data=data||l.c.d[25];if(window.motion){var ct=new Date();if(motion.pt){var t=(ct-motion.pt)/1000;motion.pt=ct}else{motion.pt=ct;return};var cx=Math.cos(motion.beta),cy=Math.cos(motion.gamma),cz=Math.cos(motion.alpha),sx=Math.sin(motion.beta),sy=Math.sin(motion.gamma),sz=Math.sin(motion.alpha);motion.a.x=m[accel].x*cz*cy+m[accel].y*(cz*sy*sx-sz*cx)+m[accel].z*(cz*sy*cx+sz*sx);motion.a.y=m[accel].x*sz*cy+m[accel].y*(sz*sy*sx+cz*cx)+m[accel].z*(sz*sy*cx-cz*sx);motion.a.z=-m[accel].x*sy+m[accel].y*cy*sx+m[accel].z*cy*cx;['x','y','z'].forEach(function(i){motion[i]=motion.a[i];if(raw.checked)motion.a[i]-=document.getElementById('g'+i).value;motion.s[i]+=(motion.v[i]+0.5*motion.a[i]*t)*t;motion.v[i]+=motion.a[i]*t});data+='interval: '+t*1000+'ms<br>'+l.c.d[26];['x','y','z'].forEach(function(i){data+='<tr><td>'+i+'</td><td>'+motion.a[i]+'</td><td>'+motion.v[i]+'</td><td>'+motion.s[i]+'</td></tr>'});data+='<tr><td>'+l.c.d[27]+'</td><td>'+Math.pow(motion.a.x*motion.a.x+motion.a.y*motion.a.y+motion.a.z*motion.a.z,0.5)+'</td><td>'+Math.pow(motion.v.x*motion.v.x+motion.v.y*motion.v.y+motion.v.z*motion.v.z,0.5)+'</td><td>'+Math.pow(motion.s.x*motion.s.x+motion.s.y*motion.s.y+motion.s.z*motion.s.z,0.5)+'</td></tr></table>'};mt.innerHTML=data},o:function(o){var data='';ot.innerHTML='<span style="cursor:help" title="'+l.c.d[28]+'">'+l.c.d[29]+'</span>: '+o.absolute+'<br>';['alpha','beta','gamma'].forEach(function(name){if(o[name]!==null){if(!window.motion)window.motion={a:{},v:{x:0,y:0,z:0},s:{x:0,y:0,z:0}};data+=name+': '+o[name]+'<br>';motion[name]=o[name]*Math.PI/180}});ot.innerHTML+=data||l.c.d[25]}};DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(function(status){if(status==='granted'){window.addEventListener('devicemotion',handler.m)}else{mt.innerHTML=l.c.d[30]}}):window.addEventListener('devicemotion',handler.m);DeviceOrientationEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(function(status){if(status==='granted'){window.addEventListener('deviceorientation',handler.o)}else{ot.innerHTML=l.c.d[30]}}):'ondeviceorientationabsolute' in window?window.addEventListener('deviceorientationabsolute',handler.o):window.addEventListener('deviceorientation',handler.o)},Notify:function(out,arg){if(arg===''){out.innerHTML=l.c.d[31];return};arg=arg.split('``');Notification.requestPermission().then(function(status){if(status==='granted'){window.msg=new Notification(arg[0],{body:arg[1],icon:arg[2]});msg.onclick=new Function(arg[3]);msg.onshow=new Function(arg[4]);msg.onerror=new Function(arg[5]);msg.onclose=new Function(arg[6]);out.innerHTML=l.c.d[32]+'<br><input type="button" onclick="msg.close();this.parentNode.innerHTML=l.c.d[33]" value="'+l.c.d[34]+'">'}else{out.innerHTML=l.c.d[30]}})},copy:function(undefined,arg){if(arg===''){var elements=document.getElementsByTagName('*'),id=[];for(var element=0;element<elements.length;element++)if(elements[element].id)id.push(elements[element].id);alert(l.c.d[35]+id);return};var e=this.custom(null,'return '+arg);if(typeof e==='undefined')return;var report=function(f){alert(f?l.c.d[36]:l.c.d[18])};if(e&&e.childNodes){if(e.parentNode){if(e.select){e.select();report(document.execCommand('copy'));return}else if(window.getSelection){window.getSelection().selectAllChildren(e);report(document.execCommand('copy'));return}else{e=e.innerText||e.textContent}}else{e=e.outerHTML}};if(Object.prototype.toString.call(e)==='[object Object]')try{e=JSON.stringify(e)}catch(undefined){};if(navigator.clipboard){navigator.clipboard.writeText(e).then(function(){report(true)},function(){report(false)});return}else if(window.clipboardData){report(window.clipboardData.setData('text',e));return};alert(l.c.d[37])},custom:function(out,code){if(code===''){out.innerHTML='<textarea placeholder="'+l.c.d[38]+'" spellcheck="false"></textarea><input type="submit" title="'+l.c.d[39]+'" onclick="execute.custom(this.parentNode,this.previousSibling.value||null)" oncontextmenu="execute.workers(this.parentNode,\'1``\'+this.previousSibling.value||null);return false" value="'+l.c.d[40]+'">';return};try{return new Function(code)(out)}catch(err){var error=err.stack?err.stack.indexOf(err.message)!==-1?err.stack:err.toString()+'\n'+err.stack:err.name+': '+err.message;if(!out){alert(error);return};var p=document.createElement('p');p.className='error';p.style['word-break']='break-all';p.innerHTML=error.replace(/\n/g,'<br>');out.appendChild(p)}},readfile:function(out,arg){var atag='result.getElementsByTagName(\'audio\')',vtag='result.getElementsByTagName(\'video\')',fe='Array.prototype.forEach.call';out.innerHTML='<input type="file" id="fs" onchange="if(!window.reader){window.reader=new FileReader();reader.onabort=function(){if(window.text)text.innerHTML=l.c.d[199]};reader.onerror=function(){if(window.text)text.innerHTML=l.c.d[41]};reader.onloadstart=function(){func.elements[2].disabled=func.elements[3].disabled=true;if(window.text)text.innerHTML=\'<p></p><input type=&quot;reset&quot; onclick=&quot;reader.abort()&quot; value=&quot;\'+l.c.d[200]+\'&quot;>\'};reader.onprogress=function(e){if(window.text)text.childNodes[0].innerHTML=l.c.d[42]+e.loaded+l.c.d[43]+e.total+l.c.d[44]+\'(\'+e.loaded/e.total*100+\'%)\'};reader.onloadend=function(){func.elements[2].disabled=func.elements[3].disabled=false;if(window.text&&text.childNodes[1]&&text.childNodes[1].type===\'reset\')text.innerHTML=\'\'}};reader.fs=this.files;var data=\'\';for(var file=0;file<files.length;file++){data+=\'<div\'+(file%2===1?\' class=&quot;even&quot;\':\'\')+\'>\';for(var name in files[file])if(typeof files[file][name]!==\'function\')data+=name+\': \'+files[file][name]+\'<br>\';if(/html|css|javascript/i.test(files[file].type)){data+=\'<input type=&quot;button&quot; onclick=&quot;reader.onload=function(event){\';switch(files[file].type){case \'text/javascript\':data+=\'var js=document.createElement(\\\'script\\\');js.type=\\\'text/javascript\\\';js.innerHTML=event.target.result;result.appendChild(js)\';break;case \'text/html\':data+=\'var html=window.open(\\\'\\\',\\\'\\\',\\\'popup\\\');if(!html){alert(l.c.d[45]);return};html.document.write(event.target.result);html.document.close()\';break;case \'text/css\':data+=\'var css=document.createElement(\\\'style\\\');css.type=\\\'text/css\\\';css.innerHTML=event.target.result;result.appendChild(css)\'};data+=\'};reader.readAsText(fs.files[\'+file+\'],cset.value)&quot; value=&quot;\'+l.c.d[40]+\'&quot;>\'};if(/audio|video|image/i.test(files[file].type)){data+=\'<input type=&quot;button&quot; onclick=&quot;var media=document.createElement(\\\'\';switch(files[file].type.split(\'/\')[0]){case \'audio\':data+=\'audio\';break;case \'video\':data+=\'video\';break;case \'image\':data+=\'img\'};data+=\'\\\');if(!media)return;if(media.controls===false)media.controls=true;media.tabIndex=0;window.urls=window.urls||[];if(!this.hasAttribute(\\\'data-url\\\'))this.setAttribute(\\\'data-url\\\',window.urls[window.urls.push(window.URL.createObjectURL(fs.files[\'+file+\']))-1]);media.src=this.getAttribute(\\\'data-url\\\');media.onkeydown=function(key){var k=parseInt(key.key);if(k>=0&&k<=9){this.rate=(this.rate||\\\'\\\')+key.key;return};if(this.rate){var r=parseFloat(this.rate),e=this.rate[this.rate.length-1],w=this.style.width,d=parseFloat(w);switch(key.key){case \\\'.\\\':if(e===\\\'.\\\'){this.rate=undefined;this.style.width=r?r+\\\'px\\\':\\\'\\\'}else{this.rate+=key.key};return;break;case \\\'%\\\':if(e===\\\'.\\\'){this.rate=undefined;this.style.width=r+\\\'%\\\';return};break;case \\\'Backspace\\\':this.rate=this.rate.slice(0,-1);return;break;case \\\'Delete\\\':this.rate=undefined;return;break;case \\\'+\\\':if(w&&e===\\\'.\\\'){this.style.width=d+r+w.slice(d.toString().length);return};break;case \\\'-\\\':if(w&&e===\\\'.\\\'){this.style.width=d-r+w.slice(d.toString().length);return}};if(this.playbackRate>=0)switch(key.key){case \\\'Enter\\\':this.rate=undefined;if(e===\\\'.\\\'){this.currentTime=r}else{this.playbackRate=r};return false;break;case \\\'+\\\':this.playbackRate+=r;break;case \\\'-\\\':this.playbackRate-=r;break;case \\\'*\\\':this.playbackRate*=r;break;case \\\'/\\\':this.playbackRate/=r;break;case \\\'ArrowLeft\\\':this.currentTime-=r;return false;break;case \\\'ArrowRight\\\':this.currentTime+=r;return false}}else{switch(key.key){case \\\'t\\\':alert(\\\'Current time: \\\'+this.currentTime);break;case \\\'Delete\\\':this.parentNode.removeChild(this)}}};if(media.playbackRate&&rate.value)media.playbackRate=rate.value;result.appendChild(media);ctrl.style.display=\\\'\\\'&quot; title=&quot;\'+l.c.d[47]+\'&quot; value=&quot;\'+l.c.d[48]+\'&quot;>\'};data+=\'<input type=&quot;button&quot; title=&quot;\'+l.c.d[49]+\'&amp;#10;\'+l.c.d[50]+\'&quot; onclick=&quot;reader.onload=function(event){\\\'innerText\\\' in text?text.innerText=event.target.result:text.textContent=event.target.result};reader.readAsText(fs.files[\'+file+\'],cset.value)&quot; oncontextmenu=&quot;reader.onload=function(event){execute.copy(null,\\\'reader.result\\\')};reader.readAsText(fs.files[\'+file+\'],cset.value);return false&quot; value=&quot;\'+l.c.d[51]+\'&quot;><input type=&quot;button&quot; title=&quot;\'+l.c.d[49]+\'&quot; onclick=&quot;reader.onload=function(event){\\\'innerText\\\' in text?text.innerText=event.target.result:text.textContent=event.target.result};reader.readAsDataURL(fs.files[\'+file+\'],cset.value)&quot; oncontextmenu=&quot;reader.onload=function(event){execute.copy(null,\\\'reader.result\\\')};reader.readAsDataURL(fs.files[\'+file+\'],cset.value);return false&quot; value=&quot;Base64&quot;></div>\'};info.innerHTML=data" '+(arg?arg==='.'?'webkitdirectory':'accept="'+arg+'"':'')+' multiple> <label>'+l.c.d[52]+'<input type="text" id="cset" list="csets" placeholder="'+l.c.d[53]+l.c.s[12]+'" spellcheck="false"></label> <input type="reset" onclick="text.innerHTML=result.innerHTML=\'\';ctrl.style.display=\'none\'" value="'+l.c.d[54]+'"><div id="ctrl" style="display:none"><input type="button" onclick="'+fe+'('+vtag+',function(i){i.play()});'+fe+'('+atag+',function(i){i.play()})" oncontextmenu="'+fe+'('+vtag+',function(i){i.muted=false});'+fe+'('+atag+',function(i){i.muted=false});return false" value="'+l.c.d[55]+'"><input type="button" onclick="'+fe+'('+vtag+',function(i){i.pause()});'+fe+'('+atag+',function(i){i.pause()})" oncontextmenu="'+fe+'('+vtag+',function(i){i.muted=true});'+fe+'('+atag+',function(i){i.muted=true});return false" value="'+l.c.d[56]+'"><input type="button" onclick="'+fe+'('+vtag+',function(i){i.paused?i.play():i.pause()});'+fe+'('+atag+',function(i){i.paused?i.play():i.pause()})" oncontextmenu="'+fe+'('+vtag+',function(i){i.muted=!i.muted});'+fe+'('+atag+',function(i){i.muted=!i.muted});return false" title="'+l.c.d[57]+'" value="'+l.c.d[58]+'"> <label>'+l.c.d[59]+'<input type="number" id="rate" onchange="var val=this.value,adjust=function(i){try{i.playbackRate=val<0?i.playbackRate*-val:val}catch(e){}};'+fe+'('+vtag+',adjust);'+fe+'('+atag+',adjust);if(this.value<0)this.value=\'\'" placeholder="'+l.c.d[60]+'" title="'+l.c.d[61]+'" step="0.01"></label> <label>'+l.c.d[62]+'<input type="number" onchange="var val=this.value==0?\'\':100/this.value+\'%\',adjust=function(i){i.style.width=val};'+fe+'('+vtag+',adjust);'+fe+'('+atag+',adjust);'+fe+'(result.getElementsByTagName(\'img\'),adjust);this.value=\'\'" placeholder="'+l.c.d[53]+l.c.d[63]+'" min="0"></label></div><div id="info" style="word-break:break-all"></div><div id="text" style="word-break:break-all"></div><div id="result"></div>'},audio:function(out,arg){if(arg===','||!window.audio){try{arg=arg.split(',');switch(arg.length){case 1:if(arg[0]!=='')window.audio=new window.AudioContext({sampleRate:arg[0]});case 0:if(!window.audio)window.audio=new (window.AudioContext||window.webkitAudioContext)();audio.onstatechange=function(){if(!window.mute)return;if(this.state==="running"){mute.disabled=false;mute.value=l.c.d[64];mute.onclick=function(){audio.suspend()}}else if(this.state!=="closed"){mute.value=l.c.d[65];mute.onclick=function(){audio.resume();this.disabled=true;this.value=l.c.d[66]}}};break;case 3:window.audio=new OfflineAudioContext(arg[0],arg[1],arg[2]);audio.off=true;audio.oncomplete=function(e){aData[aData.push(e.renderedBuffer)-1].tp='AudioBuffer';this.stop(true);execute.audio(out,this.sampleRate.toString())};break;default:out.innerHTML=l.c.d[222];return}}catch(e){out.innerHTML=e.toString();return}};var clampMin='if(+this.value<this.min){this.value=this.min}',clampMax='if(+this.value>this.max){this.value=this.max}';audio.sonodes=audio.sonodes||[];audio.prnodes=audio.prnodes||[];window.aData=window.aData||[];audio.showNode=function(isSource,node){var ele=document.createElement('li'),nodes=isSource?this.sonodes:this.prnodes,data='';if(nodes[node]){switch(nodes[node].tp){case 'OscillatorNode':data='<label>'+l.c.d[67]+'<select onchange="audio.sonodes['+node+'].type=this.value"><option value="sine">'+l.c.d[68][0]+'</option><option value="square">'+l.c.d[68][1]+'</option><option value="sawtooth">'+l.c.d[68][2]+'</option><option value="triangle">'+l.c.d[68][3]+'</option><option value="custom" hidden>'+l.c.d[68][4]+'</option></select></label> <input type="button" onclick="var real=prompt(l.c.d[69]);if(!real){return};real=real.split(\',\');if(real.length>=2){for(var i=0;i<real.length;i++){real[i]=parseFloat(real[i]);if(isNaN(real[i]))real[i]=0}}else{var n=parseInt(real[0]);if(isNaN(n)||n<2){return};real=execute.random(n,-1,1)};if(n){var imag=execute.random(n,-1,1)}else{do{var imag=prompt(l.c.d[70]+real.length+l.c.d[71]);if(!imag){return};imag=imag.split(\',\')}while(imag.length!==real.length);for(var i=0;i<imag.length;i++){imag[i]=parseFloat(imag[i]);if(isNaN(imag[i]))imag[i]=0}};audio.sonodes['+node+'].setPeriodicWave(audio.createPeriodicWave(real,imag));this.previousElementSibling.childNodes[1].value=\'custom\';alert(l.c.d[72])" value="'+l.c.d[73]+'"> <label>'+l.c.d[74]+'<input type="number" onchange="'+clampMin+'else '+clampMax+';audio.sonodes['+node+'].frequency.value=this.value" min="'+-this.sampleRate/2+'" max="'+this.sampleRate/2+'" list="savedf" value="'+this.sonodes[node].frequency.value+'">Hz</label> <label>'+l.c.d[75]+'<input type="range" title="'+l.c.d[76]+'" oninput="var p=audio.sonodes['+node+'].frequency.value;switch(this.value){case \'-1\':p/=2;break;case \'-0.5\':p/=Math.pow(2,1/12);break;case \'0.5\':p*=Math.pow(2,1/12);break;case \'1\':p*=2};this.parentNode.previousElementSibling.childNodes[1].value=p" onchange="var a=audio.sonodes['+node+'].frequency,b=this.parentNode.previousElementSibling.childNodes[1];a.value=b.value;b.value=a.value;this.value=0" oncontextmenu="var p=this.parentNode.previousElementSibling.childNodes[1],f=Math.abs(audio.sonodes['+node+'].frequency.value),l=Math.log2(f);switch(this.value){case \'-1\':p.value=f=execute.random(1,0,f)[0];break;case \'-0.5\':p.value=f=Math.pow(2,execute.random(1,l-1,l)[0]);break;case \'0\':p.value=f=execute.random(1,0,p.max)[0];break;case \'0.5\':p.value=f=Math.pow(2,execute.random(1,l,Math.min(l+1,Math.log2(p.max)))[0]);break;case \'1\':p.value=f=execute.random(1,f,p.max)[0]};audio.sonodes['+node+'].frequency.value=f;return false" min="-1" max="1" step="0.5" list="-1-0-1"></label>';break;case 'AudioBufferSourceNode':data='<label>'+l.c.d[77]+'<select name="buffer" onchange="audio.sonodes['+node+'].buffer=aData[this.value-1];this.disabled=true" '+(this.sonodes[node].buffer?'disabled':'')+'>'+this.updateBuffer(false)+'</select></label> <label>'+l.c.d[78]+'<input type="number" oninput="audio.sonodes['+node+'].detune.value=this.value" value="'+this.sonodes[node].detune.value+'"></label> <label title="'+l.c.d[79]+'">'+l.c.d[80]+'<input type="checkbox" onchange="audio.sonodes['+node+'].loop=this.checked" '+(this.sonodes[node].loop?'checked':'')+'></label> <label>'+l.c.d[81]+'<input type="number" oninput="'+clampMin+';audio.sonodes['+node+'].playbackRate.value=this.value" min="0" step="0.01" list="0.25-1-2" value="'+this.sonodes[node].playbackRate.value+'"></label>';break;case 'MediaStreamAudioSourceNode':var m=this.sonodes[node].mediaStream;data='<label>'+l.c.d[82]+'<input type="text" value="'+(m?m.id:l.c.d[205])+'" readonly></label>';break;case 'GainNode':data='<label>'+l.c.d[83]+'<input type="number" oninput="audio.prnodes['+node+'].gain.value=this.value" step="0.01" list="0-1-2" value="'+this.prnodes[node].gain.value+'"></label>';break;case 'StereoPannerNode':data='<label>'+l.c.d[84]+'<input type="range" oninput="audio.prnodes['+node+'].pan.value=this.value;this.title=this.value" min="-1" max="1" step="0.01" list="-1-0-1" value="'+this.prnodes[node].pan.value+'"></label>';break;case 'BiquadFilterNode':data='<label>'+l.c.d[67]+'<select onchange="audio.prnodes['+node+'].type=this.value"><option value="lowpass">'+l.c.d[85][0]+'</option><option value="highpass">'+l.c.d[85][1]+'</option><option value="bandpass">'+l.c.d[85][2]+'</option><option value="lowshelf">'+l.c.d[85][3]+'</option><option value="highshelf">'+l.c.d[85][4]+'</option><option value="peaking">'+l.c.d[85][5]+'</option><option value="notch">'+l.c.d[85][6]+'</option><option value="allpass">'+l.c.d[85][7]+'</option></select></label> <label>'+l.c.d[74]+'<input type="number" onchange="'+clampMin+'else '+clampMax+';audio.prnodes['+node+'].frequency.value=this.value" min="0" max="'+this.sampleRate/2+'" list="savedf" value="'+this.prnodes[node].frequency.value+'">Hz</label> <label>'+l.c.d[201]+'<input type="number" oninput="audio.prnodes['+node+'].Q.value=this.value" step="0.01" value="'+this.prnodes[node].Q.value+'"></label> <label>'+l.c.d[86]+'<input type="number" oninput="audio.prnodes['+node+'].gain.value=this.value" onchange="this.value=audio.prnodes['+node+'].gain.value" value="'+this.prnodes[node].gain.value+'">'+l.c.d[212]+'</label>';break;case 'WaveShaperNode':data='<label>'+l.c.d[87]+'<input type="button" title="'+l.c.d[88]+'" onclick="var c=prompt(l.c.d[89]);if(c===null)return;c=c.split(\',\');if(!(c.length===1)){for(var i=0;i<c.length;i++){c[i]=parseFloat(c[i]);if(isNaN(c[i]))c[i]=0};audio.prnodes['+node+'].curve=new Float32Array(c);alert(l.c.d[72])}else{audio.prnodes['+node+'].curve=null;alert(l.c.d[90])}" oncontextmenu="var c=prompt(l.c.d[91]);if(!c)return false;c=c.split(\',\');if(c.length===2||c.length>4)return false;try{audio.prnodes['+node+'].curve=new Float32Array(execute.random(c[0],c[1]||-1,c[2]||1,c[3]));alert(l.c.d[72])}catch(err){alert(err.toString())};return false" value="'+l.c.d[92]+'"></label> <label>'+l.c.d[93]+'<input type="range" oninput="var c=Math.pow(2,this.value);c===1?c=\'none\':c+=\'x\';this.title=audio.prnodes['+node+'].oversample=c" min="0" max="2" list="0-1-2" value="'+(Math.log2(this.prnodes[node].oversample[0])||0)+'"></label>';break;case 'DynamicsCompressorNode':data='<label>'+l.c.d[213]+'<input type="number" oninput="audio.prnodes['+node+'].threshold.value=this.value" min="-100" max="0" value="'+this.prnodes[node].threshold.value+'"></label> <label>'+l.c.d[214]+'<input type="number" oninput="audio.prnodes['+node+'].knee.value=this.value" min="0" max="40" value="'+this.prnodes[node].knee.value+'"></label> <label>'+l.c.d[215]+'<input type="number" oninput="audio.prnodes['+node+'].ratio.value=this.value" min="1" max="20" value="'+this.prnodes[node].ratio.value+'"></label> <label>'+l.c.d[216]+'<input type="number" onchange="audio.prnodes['+node+'].attack.value=this.value" min="0" max="1" step="0.001" value="'+this.prnodes[node].attack.value+'">'+l.c.d[167]+'</label> <label>'+l.c.d[217]+'<input type="number" onchange="audio.prnodes['+node+'].release.value=this.value" min="0" max="1" step="0.001" value="'+this.prnodes[node].release.value+'">'+l.c.d[167]+'</label>'};if(isSource){data+=' <label>'+l.c.d[94]+'<select name="connect" data-source data-index="'+node+'" onchange="var node=audio.sonodes['+node+'];node.disconnect();if(this.value){try{node.start()}catch(undefined){};node.connect(this.value===\'dest\'?audio.destination:audio.prnodes[this.value])};node.to=this.value"></select></label> <input type="button" onclick="audio.removeNode(true,'+node+',this.parentNode)" value="'+l.c.d[3]+'">'}else{if(this.prnodes[node].channelCountMode!=='max'){data+='<!-- <label>'+l.c.d[95]+'<input type="number" onchange="'+clampMin+'else '+clampMax+'else{this.value=parseInt(this.value)};audio.prnodes['+node+'].channelCount=this.value" min="1" max="'+audio.destination.maxChannelCount+'" value="'+this.prnodes[node].channelCount+'"></label>-->'};data+=' <label>'+l.c.d[94]+'<select name="connect" data-index="'+node+'" onchange="var node=audio.prnodes['+node+'];node.disconnect();if(this.value)node.connect(this.value===\'dest\'?audio.destination:audio.prnodes[this.value]);node.to=this.value"></select></label> <input type="button" onclick="audio.removeNode(false,'+node+',this.parentNode)" value="'+l.c.d[96]+'">'}}else{ele.style['text-decoration']='line-through'};ele.innerHTML=data||l.c.d[97];if(nodes[node]){switch(nodes[node].tp){case 'OscillatorNode':ele.getElementsByTagName('select')[0].value=this.sonodes[node].type;break;case 'AudioBufferSourceNode':ele.getElementsByTagName('select')[0].value=(aData.indexOf(this.sonodes[node].buffer)+1||'');break;case 'BiquadFilterNode':ele.getElementsByTagName('select')[0].value=this.prnodes[node].type};if(isSource)this.sonodes[node].onended=function(){audio.removeNode(2,node,ele)}};return ele};audio.addNode=function(isSource,type){var nodes=isSource?this.sonodes:this.prnodes;switch(type){case 'OscillatorNode':nodes.push(this.createOscillator());break;case 'AudioBufferSourceNode':nodes.push(this.createBufferSource());break;case 'MediaStreamAudioSourceNode':if(!window.userMedia){alert(l.c.d[98]);return};try{nodes.push(this.createMediaStreamSource(window.userMedia))}catch(err){alert(l.c.d[99]+err.toString());return};break;case 'GainNode':nodes.push(this.createGain());break;case 'StereoPannerNode':nodes.push(this.createStereoPanner());break;case 'BiquadFilterNode':nodes.push(this.createBiquadFilter());break;case 'WaveShaperNode':nodes.push(this.createWaveShaper());break;case 'DynamicsCompressorNode':nodes.push(this.createDynamicsCompressor())};var node=nodes.length-1;nodes[node].tp=type;return this.showNode(isSource,node)};audio.removeNode=function(isSource,index,node){if(isSource){if(isSource<2)try{this.sonodes[index].stop();if(this.sonodes[index].onended)return}catch(undefined){this.sonodes[index].disconnect()};this.sonodes[index]=null}else{this.prnodes[index].disconnect();this.prnodes[index]=null;this.updateNode(index)};if(node){node.innerHTML=isSource?l.c.d[2]:l.c.d[100];node.style['text-decoration']='line-through';var panode=node.parentNode;if(panode)if(isSource){while(this.sonodes[this.sonodes.length-1]===null){panode.removeChild(panode.lastChild);this.sonodes.pop()}}else{while(this.prnodes[this.prnodes.length-1]===null){panode.removeChild(panode.lastChild);this.prnodes.pop()}}}};audio.updateNode=function(index){var sels=document.getElementsByName('connect'),data='<option value="">'+l.c.d[203]+'</option><option value="dest">'+l.c.d[101]+'</option>';for(var node=0;node<this.prnodes.length;node++)if(this.prnodes[node])data+='<option value="'+node+'">'+(node+1)+'</option>';for(var sel=0,node;sel<sels.length;sel++){node=sels[sel].hasAttribute('data-source')?this.sonodes[sels[sel].getAttribute('data-index')]:this.prnodes[sels[sel].getAttribute('data-index')];sels[sel].innerHTML=data;if(node){sels[sel].value=node.to==index?node.to='':node.to||''}}};audio.addData=function(type,opt1,opt2,opt3){try{switch(type){case 'AudioBuffer':aData[aData.push(this.createBuffer(opt1,opt2,opt3))-1].tp='AudioBuffer';this.updateBuffer(true);break;case 'DecodedFile':if(!window.reader||!window.reader.fs.length){alert(l.c.d[102]);return};var fs=window.reader.fs;if(!fs[opt2-1]){alert(l.c.d[103]+opt2+l.c.d[104]+fs.length+l.c.d[105]);return};reader.onload=function(event){audio.decodeAudioData(event.target.result,function(ab){var i=aData.push(ab)-1;aData[i].tp='AudioBuffer';audio.updateBuffer(true);out.getElementsByTagName('ol')[0].appendChild(audio.showData(i))},function(err){alert(l.c.d[106]+err.message)})};reader.readAsArrayBuffer(fs[opt2-1]);return}}catch(err){alert(l.c.d[107]+type+l.c.d[108]+'\n\n'+err.toString());return};var ad=aData.length-1;return this.showData(ad)};audio.showData=function(ad){var ele=document.createElement('li'),data='';if(aData[ad]){switch(aData[ad].tp){case 'AudioBuffer':data=l.c.d[95]+aData[ad].numberOfChannels+' '+l.c.d[109]+aData[ad].sampleRate+l.c.d[110]+' '+l.c.d[129]+aData[ad].duration+l.c.d[167]+' '+l.c.d[220]+aData[ad].length*aData[ad].numberOfChannels*4+l.c.d[221]+' <input type="button" onclick="info.innerHTML=l.c.d[142]+\'<b>'+(ad+1)+'</b> \'+l.c.d[111]+\'<b>'+aData[ad].length+'\'+l.c.d[112]+\'</b> <label>\'+l.c.d[113]+\'<input type=\\\'number\\\' min=\\\'1\\\' max=\\\''+aData[ad].numberOfChannels+'\\\' required></label>\';if(!audio.worker)audio.worker=execute.blobWorker(\'\\\'use strict\\\';self.onmessage=function(event){var data=new Float32Array(event.data.content),input=event.data.arg,f=event.data.frequency;for(var ch=0;ch<data.length;ch+=+input[3]){if(f&&ch%(input[3]*f)===0)self.postMessage({type:\\\'pending\\\',content:ch*100/data.length});for(var c=0;c<input[4];c+=+input[5]){if(ch+c>=data.length)break;data[ch+c]=input[7]==input[6]?+input[6]:Math.random()*(input[7]-input[6])+(+input[6])}};self.postMessage({type:\\\'finished\\\',content:data.buffer,arg:input},[data.buffer])}\',1,function(err){alert(err.message);func.elements[2].disabled=func.elements[3].disabled=fill.disabled=false});audio.worker.workers[0].onmessage=function(event){var input=bfeditor.elements;switch(event.data.type){case \'pending\':input[8].value=event.data.content+\'%\';break;case \'finished\':aData['+ad+'].copyToChannel(new Float32Array(event.data.content),event.data.arg[0]-1,event.data.arg[1]-1);input[8].value=l.c.d[114];input[9].value=l.c.d[46];func.elements[2].disabled=func.elements[3].disabled=input[8].disabled=false}};bfeditor.action=\'javascript:\\\'use strict\\\';(function(input){var arg=[];for(var i=0;i<8;i++)arg.push(parseFloat(input[i].value));var buffer=new Float32Array(arg[2]-arg[1]+1);aData['+ad+'].copyFromChannel(buffer,arg[0]-1,arg[1]-1);audio.worker.workers[0].postMessage({content:buffer.buffer,arg:arg,frequency:audio.sampleRate/10},[buffer.buffer]);input[9].value=l.c.d[115];func.elements[2].disabled=func.elements[3].disabled=input[8].disabled=true})(bfeditor.elements)\';fill.disabled=false;bfeditor.parentNode.style.display=\'\';bfeditor.elements[2].max=aData['+ad+'].length" oncontextmenu="if(!execute.wait()&&!confirm(l.c.d[224]))return false;audio.stop(true);execute.audio(output,aData['+ad+'].numberOfChannels+\',\'+aData['+ad+'].length+\',\'+aData['+ad+'].sampleRate);return false" title="'+l.c.d[229]+'" value="'+l.c.d[116]+'"><input type="button" onclick="var from=parseInt(prompt(l.c.d[117]))-1,offset1=Math.abs(parseInt(prompt(l.c.d[118]+l.c.d[119]))),length=parseInt(prompt(l.c.d[120]));if(!(from>=0&&length>0)){alert(l.c.d[121]);return};var dest=parseInt(prompt(l.c.d[122],'+(ad+1)+'))-1,to=parseInt(prompt(l.c.d[123]))-1,offset2=Math.abs(parseInt(prompt(l.c.d[124]+l.c.d[119])));if(!(dest>=0&&to>=0)){alert(l.c.d[125]);return};try{var buffer=new Float32Array(length);aData['+ad+'].copyFromChannel(buffer,from,offset1);aData[dest].copyToChannel(buffer,to,offset2);alert(l.c.d[72])}catch(err){alert(err.toString())}" oncontextmenu="var a=aData['+ad+'],f=a.length-1,r=0;for(var i=0;i<a.numberOfChannels;i++){if(f===0&&r===a.length-1)break;var d=a.getChannelData(i);for(var j=0;j<f;j++)if(d[j]!==0){f=j;break};for(var j=d.length-1;j>r;j--)if(d[j]!==0){r=j;break}};alert(l.c.d[225]+\'\\n\'+(f>r?l.c.d[97]:l.c.d[226]+(f===0?l.c.d[203]:f)+\' (\'+f+l.c.d[227]+\')\\n\'+l.c.d[228]+(r===a.length-1?l.c.d[203]:r+2)+\' (\'+(a.length-1-r)+l.c.d[227]+\')\'));return false" title="'+l.c.d[230]+'" value="'+l.c.d[126]+'"><input type="button" onclick="try{var link=audio.exportWav(aData['+ad+'])}catch(err){alert(l.c.d[106]+err.message);return};this.setAttribute(\'data-url\',link);if(confirm(l.c.d[219])){var a=document.createElement(\'a\');a.href=link;a.setAttribute(\'download\',\'\');a.click()}else{window.open(link,\'\',\'popup\')}" oncontextmenu="var l=this.getAttribute(\'data-url\');if(l){window.URL.revokeObjectURL(l);this.removeAttribute(\'data-url\');return false}" value="'+l.c.d[218]+'">'}}else{ele.style['text-decoration']='line-through'};ele.innerHTML=data||l.c.d[97];return ele};audio.updateBuffer=function(isModify){var sels=document.getElementsByName('buffer'),data='<option value="">'+l.c.d[97]+'</option>';for(var dt=0;dt<aData.length;dt++)if(aData[dt].tp==='AudioBuffer')data+='<option value="'+(dt+1)+'">'+(dt+1)+'</option>';if(isModify){for(var sel=0,dt;sel<sels.length;sel++){dt=sels[sel].value;sels[sel].innerHTML=data;sels[sel].value=dt}}else{return data}};audio.exportWav=function(buffer){function writeString(b,o,s){for(var i=0;i<s.length;i++)b.setUint8(o+i,s.charCodeAt(i))};var r=buffer.sampleRate,l=buffer.length,c=buffer.numberOfChannels,fmt=3,Bps=4,ba=c*Bps,datal=l*ba,b=new ArrayBuffer(44+datal),data=new DataView(b);writeString(data,0,'RIFF');data.setUint32(4,datal+36,true);writeString(data,8,'WAVEfmt ');data.setUint32(16,16,true);data.setUint16(20,fmt,true);data.setUint16(22,c,true);data.setUint32(24,r,true);data.setUint32(28,r*ba,true);data.setUint16(32,ba,true);data.setUint16(34,Bps*8,true);writeString(data,36,'data');data.setUint32(40,datal,true);var pcm=new Float32Array(b,44);for(var i=0;i<c;i++){var cdata=buffer.getChannelData(i);for(var j=0;j<cdata.length;j++)pcm[i+c*j]=cdata[j]};return window.URL.createObjectURL(new Blob([b],{type:'audio/wav'}))};audio.stop=function(off){if(!off&&!execute.wait()&&!confirm(l.c.d[138]))return;bfeditor.reset();for(var node=0;node<audio.sonodes.length;node++)if(audio.sonodes[node])audio.removeNode(true,node);for(var node=0;node<audio.prnodes.length;node++)if(audio.prnodes[node])audio.removeNode(false,node);audio.sonodes=audio.prnodes=audio.showNode=audio.addNode=audio.removeNode=audio.updateNode=audio.addData=audio.showData=audio.updateBuffer=undefined;if(window.aData.length===0)window.aData=undefined;if(audio.close)audio.close();audio=undefined;if(!off)out.innerHTML=l.c.d[2]};out.innerHTML='<p>'+l.c.d[127]+'<br>'+l.c.d[109]+'<b>'+audio.sampleRate+l.c.d[110]+'</b> '+l.c.d[128]+'<b>'+(audio.off?l.c.d[223]:l.c.d[48])+'</b><br><span class="warn">'+l.c.d[130]+'</span><fieldset><legend>'+l.c.d[131]+'</legend><input type="number" oninput="this.nextSibling.value=this.value?440*Math.pow(2,(this.value-69)/12):\'\'" min="0" placeholder="'+l.c.d[132]+'"><input type="number" oninput="'+clampMin+';this.previousSibling.value=+this.value>this.min?Math.log2(this.value/440)*12+69:\'\'" min="0" step="0.001" placeholder="'+l.c.d[133]+'"><input type="button" onclick="savedf.innerHTML+=\'<option value=&quot;\'+this.previousSibling.value+\'&quot;>\'+l.c.d[134]+this.previousSibling.previousSibling.value+\'</option>\'" title="'+l.c.d[135]+'" value="'+l.c.d[136]+'"><input type="reset" onclick="savedf.innerHTML=\'\'" value="'+l.c.d[137]+'"></fieldset></p><label>'+l.c.d[95]+'<input type="number" onchange="'+clampMin+'else '+clampMax+'else{this.value=parseInt(this.value)};audio.destination.channelCount=this.value" min="1" max="'+audio.destination.maxChannelCount+'" value="'+audio.destination.channelCount+'"></label> '+(audio.off?'<input type="submit" onclick="if(!execute.wait()&&!confirm(l.c.d[224]))return;var t=this;t.disabled=t.nextSibling.disabled=true;t.value=l.c.d[66];audio.startRendering()[\'catch\'](function(err){alert(l.c.d[107]+\'AudioBuffer\'+l.c.d[108]+\'\\n\\n\'+err.toString());t.disabled=t.nextSibling.disabled=false;t.value=l.c.d[193]})" value="'+l.c.d[193]+'">':'<input type="button" id="mute" '+(audio.state==='suspended'?'onclick="audio.resume();this.disabled=true;this.value=l.c.d[66]" value="'+l.c.d[65]+'"':'onclick="if(audio.suspend){audio.suspend()}else{this.disabled=true}" value="'+l.c.d[64]+'"')+'>')+'<input type="reset" onclick="audio.stop(false)" value="'+l.c.d[3]+'"><br><select onchange="switch(this.value){case \'AudioBuffer\':this.nextSibling.placeholder=l.c.d[139];break;case \'DecodedFile\':this.nextSibling.placeholder=l.c.d[140]}"><option value="AudioBuffer">'+l.c.d[141][0]+'</option><option value="DecodedFile">'+l.c.d[141][1]+'</option></select><input type="number" onchange="this.value=+this.value<this.min?this.value?this.min:\'\':parseInt(this.value)" oninput="this.nextSibling.disabled=!this.value" min="1" placeholder="'+l.c.d[139]+'"><input type="button" onclick="var dt=audio.addData(this.previousSibling.previousSibling.value,audio.destination.channelCount,this.previousSibling.value,audio.sampleRate);if(dt)this.nextSibling.nextSibling.appendChild(dt)" value="'+l.c.d[143]+'" disabled><input type="reset" onclick="if(!execute.wait()&&!confirm(l.c.d[144]))return;aData=[];this.nextSibling.innerHTML=\'\';bfeditor.reset();for(var node=0;node<audio.sonodes.length;node++)if(audio.sonodes[node]&&audio.sonodes[node].buffer)audio.removeNode(true,node,this.parentNode.getElementsByTagName(\'ul\')[0].childNodes[node]);audio.updateBuffer(true)" value="'+l.c.d[144]+'"><ol></ol><fieldset style="display:none"><legend>'+l.c.d[145]+'</legend><form action="javascript:" id="bfeditor" onreset="if(audio.worker){audio.worker.workers[0].terminate();window.URL.revokeObjectURL(audio.worker.url);audio.worker=undefined};this.action=\'javascript:\';info.innerHTML=\'\';fill.disabled=true;func.elements[2].disabled=func.elements[3].disabled=false;this.parentNode.style.display=\'none\'"><p>'+l.c.d[146]+'</p><p id="info"></p>'+l.c.d[147]+'<label>'+l.c.d[148]+'<input type="number" onchange="this.parentNode.nextElementSibling.childNodes[1].min=this.value" placeholder="'+l.c.d[139]+'" min="1" required></label> <label>'+l.c.d[149]+'<input type="number" onchange="this.parentNode.previousElementSibling.childNodes[1].max=this.value" placeholder="'+l.c.d[139]+'" required></label> <label>'+l.c.d[150]+'<input type="number" onchange="this.parentNode.nextSibling.nextElementSibling.childNodes[1].max=this.value" min="1" value="1" required></label><br>'+l.c.d[151]+'<label>'+l.c.d[111]+'<input type="number" placeholder="'+l.c.d[139]+'" min="1" max="1" value="1" required></label> <label>'+l.c.d[150]+'<input type="number" min="1" value="1" required></label><br>'+l.c.d[152]+'<input type="number" step="0.001" required>~<input type="number" step="0.001" required> <input id="fill" type="submit" value="'+l.c.d[114]+'"><input type="reset" value="'+l.c.d[46]+'"></form></fieldset><select><option value="OscillatorNode">'+l.c.d[153][0]+'</option><option value="AudioBufferSourceNode">'+l.c.d[153][1]+'</option><option value="MediaStreamAudioSourceNode">'+l.c.d[153][2]+'</option></select><input type="button" onclick="var so=audio.addNode(true,this.previousSibling.value);if(so){this.nextSibling.appendChild(so);audio.updateNode()}" value="'+l.c.d[154]+'"><ul></ul><select><option value="GainNode">'+l.c.d[155][0]+'</option><option value="StereoPannerNode">'+l.c.d[155][1]+'</option><option value="BiquadFilterNode">'+l.c.d[155][2]+'</option><option value="WaveShaperNode">'+l.c.d[155][3]+'</option><option value="DynamicsCompressorNode">'+l.c.d[155][4]+'</option></select><input type="button" onclick="this.nextSibling.appendChild(audio.addNode(false,this.previousSibling.value));audio.updateNode()" value="'+l.c.d[156]+'"><ol></ol>';for(var ad=0;ad<aData.length;ad++)out.getElementsByTagName('ol')[0].appendChild(audio.showData(ad));for(var node=0;node<audio.sonodes.length;node++)out.getElementsByTagName('ul')[0].appendChild(audio.showNode(true,node));for(var node=0;node<audio.prnodes.length;node++)out.getElementsByTagName('ol')[1].appendChild(audio.showNode(false,node));audio.updateNode()},speak:function(out,arg){if(arg){window.speechSynthesis.speak(new SpeechSynthesisUtterance(arg));return};window.tts=window.tts||{ss:window.speechSynthesis,utters:[],showUtter:function(ut,isText){var ele=isText?{}:document.createElement('li');ele.innerHTML=ut?l.c.d[157]+ut.voice.name+' '+l.c.d[134]+ut.pitch+' '+l.c.d[158]+ut.rate+' '+l.c.d[83]+ut.volume:l.c.d[97];return ele},updateUtter:function(isModify){var data='<option value="">'+l.c.d[159]+'</option>';for(var ut=0;ut<this.utters.length;ut++)data+='<option value="'+ut+'">'+(ut+1)+'</option>';if(isModify){var sel=uteditor.elements[0],dt=sel.value;sel.innerHTML=data;sel.value=dt}else{return data}},updateVoice:function(){this.voices=this.ss.getVoices();var dton='',dtoff='';for(var voice=0,data;voice<this.voices.length;voice++){data='<option value="'+voice+'" '+(this.voices[voice]['default']?'selected':'')+'>'+this.voices[voice].name+' ('+this.voices[voice].lang+')'+(this.voices[voice]['default']?l.c.d[160]:'')+'</option>';this.voices[voice].localService?dtoff+=data:dton+=data};return '<optgroup label="'+l.c.d[12]+l.c.d[161]+'">'+dton+'</optgroup>'+'<optgroup label="'+l.c.d[13]+l.c.d[161]+'">'+dtoff+'</optgroup>'},defineEvent:function(ut){ut.onresume=ut.onstart=function(event){tts.ts=tts.ts||new Date();if(window.state){state.innerHTML=l.c.d[206]+(tts.ss.pending?'…':'')}else{return};pausebtn.value=l.c.d[64];pausebtn.disabled=false;stopbtn.value=l.c.d[3]};ut.onpause=function(event){if(window.state){state.innerHTML=l.c.d[163]+(event.charIndex+1)+l.c.d[164]}else{return};pausebtn.value=l.c.d[65]};ut.onend=function(event){var time=tts.ts;tts.ts=undefined;if(window.state){state.innerHTML=l.c.d[208]+' ('+l.c.d[165]+event.elapsedTime+(new Date()-time<event.elapsedTime*10?l.c.d[166]:'')+l.c.d[167]+')'}else{return};if(!tts.ss.speaking)pausebtn.disabled=true;stopbtn.value=l.c.d[168]};ut.onerror=function(event){if(window.state){state.innerHTML=l.c.d[106]+(event.error?': '+event.error:'')}else{alert(l.c.d[41]+(event.error?': '+event.error:''));return};if(!tts.ss.speaking)pausebtn.disabled=true;stopbtn.value=l.c.d[168]};return ut}};if(!tts.ss.paused)tts.ss.resume();out.innerHTML='<p>'+l.c.d[169]+'<span style="font-weight:bold" id="state">'+(tts.ss.speaking?tts.ss.paused?l.c.d[207]:l.c.d[206]:l.c.d[170])+(tts.ss.pending?'…':'')+'</span> <input type="button" id="pausebtn" onclick="if(this.value===l.c.d[64]){tts.ss.pause();this.value=l.c.d[65]}else{tts.ss.resume();this.value=l.c.d[64]}" value="'+(tts.ss.paused?l.c.d[65]:l.c.d[64])+'" '+(tts.ss.speaking?'':'disabled')+'><input type="reset" id="stopbtn" onclick="if(tts.ss.speaking){tts.ss.cancel()}else{if(!execute.wait()&&!confirm(l.c.d[171]))return;for(var ele in tts)tts[ele]=undefined;tts=undefined;this.parentNode.parentNode.innerHTML=l.c.d[172]}" value="'+(tts.ss.speaking?l.c.d[3]:l.c.d[168])+'"></p><textarea placeholder="'+l.c.d[173]+'">'+(tts.cu?tts.cu.text:'')+'</textarea><input type="submit" id="speakbtn" onclick="tts.cu.text=this.previousSibling.value;tts.ss.speak(tts.cu);tts.ss.resume()" value="'+l.c.d[162]+'" '+(tts.cu?'':'disabled')+'><p>'+l.c.d[174]+'<span style="font-weight:bold">'+tts.showUtter(tts.cu,true).innerHTML+'</span> <input type="button" onclick="var list=this.parentNode.parentNode.lastChild,ut=tts.utters[tts.utters.push(tts.cu)-1];list.appendChild(tts.showUtter(ut));ut.isSaved=true;this.disabled=true;tts.updateUtter(true)" value="'+l.c.d[175]+'" '+((tts.cu&&!tts.cu.isSaved)?'':'disabled')+'></p><form action="javascript:" onsubmit="tts.cu=function(input){var utter=input[0].value?tts.utters[input[0].value]:tts.defineEvent(new SpeechSynthesisUtterance());utter.voice=tts.voices[input[1].value];utter.pitch=input[2].value;utter.rate=Math.pow(10,input[3].value);utter.volume=input[4].value;return utter}(this.elements);speakbtn.disabled=false;this.previousSibling.childNodes[1].innerHTML=tts.showUtter(tts.cu,true).innerHTML;if(this.elements[0].value){var ut=this.elements[0].value,list=this.parentNode.lastChild;tts.utters[ut]=tts.cu;list.replaceChild(tts.showUtter(tts.utters[ut]),list.childNodes[ut])};this.previousSibling.lastChild.disabled=tts.cu.isSaved" onreset="this.elements[1].innerHTML=tts.updateVoice()" id="uteditor">'+l.c.d[176]+'<label>'+l.c.d[177]+'<select onchange="if(this.value){var opt=uteditor.elements,ut=tts.utters[this.value];opt[1].value=tts.voices.indexOf(ut.voice);opt[2].value=ut.pitch;opt[3].value=ut.rate;opt[4].value=ut.volume}">'+tts.updateUtter(false)+'</select></label><br><label>'+l.c.d[157]+'<select required>'+tts.updateVoice()+'</select></label><br><label>'+l.c.d[134]+'<input type="range" onchange="this.title=this.value" min="0" max="2" step="0.01" list="0-1-2" value="1"></label> <label>'+l.c.d[158]+'<input type="range" onchange="this.title=Math.pow(10,this.value)" min="-1" max="1" step="0.01" list="0.2-log10-5" value="0"></label> <label>'+l.c.d[83]+'<input type="range" onchange="this.title=this.value" min="0" max="1" step="0.01" list="0-1-2" value="1"></label> <input type="submit"><input type="reset"></form>'+l.c.d[178]+'<input type="reset" onclick="tts.utters=[];this.nextSibling.innerHTML=uteditor.elements[0].value=\'\';tts.updateUtter(true);if(tts.cu)tts.cu.isSaved=false;this.previousElementSibling.previousSibling.lastChild.disabled=!tts.cu" value="'+l.c.d[179]+'"><ol></ol>';for(var ut=0;ut<tts.utters.length;ut++)out.getElementsByTagName('ol')[0].appendChild(tts.showUtter(tts.utters[ut]))},workers:function(out,arg){var arg=arg.split('``');arg[0]=parseInt(arg[0]);if(isNaN(arg[0])){out.innerHTML=l.c.d[180];return};window.st=window.st||{workers:[],url:null};if(st.url){window.URL.revokeObjectURL(st.url);st.url=null};if(arg[0]>0){arg[1]=arg[1]||'while(true){}';var t=this.blobWorker(arg[1],arg[0]);st.workers=st.workers.concat(t.workers);st.url=t.url}else if(arg[0]<0){for(var c=0;c>arg[0];c--){if(!st.workers.length)break;st.workers.shift().terminate()}};out.innerHTML=l.c.d[181]+st.workers.length;if(!st.workers.length)st=undefined},getMedia:function(out,arg){if(navigator.mediaDevices){out.innerHTML=l.c.d[182]+'<ul id="devices" style="word-break:break-all"></ul>';if(navigator.mediaDevices.enumerateDevices){var ud=function(dv){if(!window.devices)return;devices.innerHTML='';for(var d=0,data;d<dv.length;d++){data=document.getElementById(dv[d].groupId);if(!data){data=document.createElement('li');data.id=dv[d].groupId;data.innerHTML='<b>'+dv[d].groupId+':</b>';devices.appendChild(data)};data.innerHTML+='<br>'+dv[d].kind+': '+(dv[d].label||'(Unknown)')+' ID: '+(dv[d].deviceId||'(Unknown)');if(/input/.test(dv[d].kind)&&dv[d].deviceId)data.innerHTML+=' <input type="button" onclick="'+(dv[d].kind==='audioinput'?'if(adid)adid':'if(vdid)vdid')+'.value=\''+dv[d].deviceId+'\'" value="'+l.c.d[183]+'">'}};navigator.mediaDevices.enumerateDevices().then(ud)}else{out.innerHTML+=l.c.d[15]}}else{out.innerHTML=''};var data=l.c.d[184]+'<ul style="column-width:11em">',loopSet=function(items){var result='';for(var i in items){result+='<label><input type="checkbox" name="'+i+'">'+items[i].name+'</label>';switch(items[i].type){case'number':result+=': <input type="number" '+(items[i].hasOwnProperty('min')?'min="'+items[i].min+'" ':'')+(items[i].hasOwnProperty('max')?'max="'+items[i].max+'" ':'')+(items[i].float?'step="1e-1023"':'')+'>';break;case'select':result+=': <select>';for(var o in items[i].options)result+='<option value="'+o+'">'+items[i].options[o]+'</option>';result+='</select>'};result+='<br>'};return result};for(var i in navigator.mediaDevices.getSupportedConstraints())data+='<li>'+i+'</li>';out.innerHTML+=data+'</ul>'+'<fieldset><legend>'+l.c.d[204]+'</legend><form id="st" action="javascript:(function(cons,get1,get2,err,m){if(!m){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia(cons).then(get1,err)}else{navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;navigator.getUserMedia(cons,get1,err)}}else{var a=m.getAudioTracks(),v=m.getVideoTracks();if(a.length)a[0].applyConstraints(cons.audio).then(get2,err);if(v.length)v[0].applyConstraints(cons.video).then(get2,err)}})(window.getSet(fc,ae,ve,as,vs),function(s){var v=output.getElementsByTagName(\'video\')[0];window.userMedia=v.srcObject=s;v.play();window.udSet(s,ae,ve,as,vs)},function(){window.udSet(window.userMedia,ae,ve,as,vs)},function(e){log.value=Error.prototype.toString.call(e)+(e.constraint?\': \'+e.constraint:\'\')},window.userMedia)"><label title="'+l.c.d[185]+'"><input type="checkbox" id="fc">'+l.c.d[186]+'</label><label><input type="checkbox" id="ae" onchange="as.disabled=!this.checked">'+l.c.d[187]+'</label><label><input type="checkbox" id="ve" onchange="vs.disabled=!this.checked">'+l.c.d[189]+'</label><ul style="list-style:none;padding-left:0;column-width:22em"><li><fieldset id="as" disabled><legend>'+l.c.d[187]+'</legend>'+loopSet({autoGainControl:{name:l.c.d[188][0]},channelCount:{name:l.c.d[188][1],type:'number',min:0},echoCancellation:{name:l.c.d[188][2]},latency:{name:l.c.d[188][3],type:'number',min:0,float:true},noiseSuppression:{name:l.c.d[188][4]},sampleRate:{name:l.c.d[188][5],type:'number',min:0},sampleSize:{name:l.c.d[188][6],type:'number',min:0}})+'<label><input type="checkbox" name="deviceId">'+l.c.d[191]+'</label>: <input type="text" id="adid"></fieldset></li><li><fieldset id="vs" disabled><legend>'+l.c.d[189]+'</legend>'+loopSet({aspectRatio:{name:l.c.d[190][0],type:'number',min:0,float:true},facingMode:{name:l.c.d[190][1],type:'select',options:{user:l.c.d[190][2][0],environment:l.c.d[190][2][1],left:l.c.d[190][2][2],right:l.c.d[190][2][3]}},frameRate:{name:l.c.d[190][3],type:'number',min:0,float:true},height:{name:l.c.d[190][4],type:'number',min:0},width:{name:l.c.d[190][5],type:'number',min:0},resizeMode:{name:l.c.d[190][6],type:'select',options:{none:l.c.d[190][7][0],'crop-and-scale':l.c.d[190][7][1]}}})+'<label><input type="checkbox" name="deviceId">'+l.c.d[191]+'</label>: <input type="text" id="vdid"></fieldset></li></ul></form></fieldset>';window.getSet=function(f,ea,ev,a,v){var x=f.checked?'exact':'ideal';var result={audio:ea.checked?{}:false,video:ev.checked?{}:false};var loop=function(m,e){if(!result[m])return;var n=e.getElementsByTagName('input');for(var i=0;i<n.length;i++)if(n[i].type==='checkbox')if(n[i].parentNode.nextElementSibling.type){if(n[i].checked){result[m][n[i].name]={};result[m][n[i].name][x]=n[i].parentNode.nextElementSibling.value}}else{result[m][n[i].name]={};result[m][n[i].name][x]=n[i].checked}};loop('audio',a);loop('video',v);return result};window.udSet=function(m,ea,ev,sa,sv){ea.disabled=ev.disabled=m?true:false;if(!m)return;var at=m.getAudioTracks(),vt=m.getVideoTracks();ea.checked=at.length;sa.disabled=!ea.checked;ev.checked=vt.length;sv.disabled=!ev.checked;if(window.MediaStreamTrack.prototype.getSettings){var loop=function(t,e){if(t.length){var s=t[0].getSettings(),n=e.getElementsByTagName('input');for(var i=0;i<n.length;i++)if(n[i].type==='checkbox')if(n[i].parentNode.nextElementSibling.type){n[i].parentNode.nextElementSibling.value=s[n[i].name]||''}else{n[i].checked=s[n[i].name]}}};loop(at,sa);loop(vt,sv)}};out.innerHTML+='<input type="submit" form="st" onclick="this.value=l.c.d[192];this.nextSibling.value=l.c.d[3]" value="'+(arg||window.userMedia?l.c.d[192]:l.c.d[193])+'"><input type="reset" onclick="if(window.userMedia){var t=userMedia.getTracks();for(var i=0;i<t.length;i++)t[i].stop();window.udSet(null,ae,ve,as,vs);window.userMedia=this.parentNode.getElementsByTagName(\'video\')[0].srcObject=null}else{var err=function(e){log.value=Error.prototype.toString.call(e)+(e.constraint?\': \'+e.constraint:\'\')};navigator.mediaDevices.getUserMedia(window.getSet(fc,ae,ve,as,vs)).then(function(m){log.value=\'\';var t=m.getTracks();for(var i=0;i<t.length;i++){if(window.MediaStreamTrack.prototype.getCapabilities)log.value+=JSON.stringify(t[i].getCapabilities())+\'\\n\\n\';t[i].stop()}}).then(function(){navigator.mediaDevices.enumerateDevices().then('+ud.toString().replace(/"/g,'&quot;')+')})[\'catch\'](err)};this.value=l.c.d[194];this.previousSibling.value=l.c.d[193]" value="'+(arg||window.userMedia?l.c.d[3]:l.c.d[194])+'"><br>'+l.c.d[195]+'<br><video controls style="width:100%"></video><br>'+l.c.d[196]+'<br><textarea id="log" readonly></textarea>';if(arg)try{var err=function(e){log.value=Error.prototype.toString.call(e)+(e.constraint?': '+e.constraint:'')};arg=JSON.parse(arg);if(!window.userMedia){navigator.mediaDevices.getUserMedia(arg).then(function(s){var v=out.getElementsByTagName('video')[0];v.srcObject=window.userMedia=s;v.play();window.udSet(s,ae,ve,as,vs)},err)}else{var a=window.userMedia.getAudioTracks(),v=window.userMedia.getVideoTracks(),get=function(){window.udSet(window.userMedia,ae,ve,as,vs)};if(a.length)a[0].applyConstraints(arg.audio).then(get,err);if(v.length)v[0].applyConstraints(arg.video).then(get,err)}}catch(e){log.value=e.toString()};window.udSet(window.userMedia,ae,ve,as,vs);if(window.userMedia){var v=out.getElementsByTagName('video')[0];v.srcObject=window.userMedia;v.play()}},randomNum:function(out,arg){arg=arg.split(' ');try{if(arg.length<2)throw new SyntaxError(l.c.d[197]);var width=(19+(arg[3]||1).toString().length)/2+1;out.innerHTML=l.c.d[198]+'<input type="number" onchange="this.nextSibling.nextSibling.style.columnWidth=this.value+\'em\'" min="0" step="0.5" value="'+width+'">em<ol style="column-width:'+width+'em;width:90vw"><li>'+this.random(arg[3]||1,arg[0],arg[1],arg[2]).join('</li><li>')+'</li></ol>'}catch(e){out.innerHTML=e.name+': '+e.message}}}</script>
<span style="display:none">
<datalist id="-1-0-1"><option>-1</option><option>-0.5</option><option>0</option><option>0.5</option><option>1</option></datalist>
<datalist id="0-1-2"><option>0</option><option>0.5</option><option>1</option><option>1.5</option><option>2</option></datalist>
<datalist id="0.25-1-2"><option>0.25</option><option>0.5</option><option>0.75</option><option>1</option><option>1.25</option><option>1.5</option><option>1.75</option><option>2</option></datalist>
<datalist id="0.2-log10-5"><option>-0.7</option><option>-0.3</option><option>0</option><option>0.3</option><option>0.7</option></datalist>
<datalist id="csets"><option data-lang="12">UTF-8</option><option value="UTF-16LE" data-lang="13">UTF-16 Little Endian</option><option value="UTF-16BE" data-lang="14">UTF-16 Big Endian</option><option value="GBK" data-lang="15">GBK</option><option value="windows-1252" data-lang="16">ANSI (ASCII)</option></datalist>
<datalist id="savedf"></datalist>
</span>
<select data-lang="5" name="function" onchange="var selected=this.options[this.selectedIndex],arg=this.parentNode.elements[1];(arg.disabled=selected.getAttribute('data-ph')===null)?arg.removeAttribute('placeholder'):arg.placeholder=selected.getAttribute('data-ph');arg.required=selected.getAttribute('data-rq')!==null" required>
<option value="" hidden>No function</option>
</select>
<input type="text" name="arg" spellcheck="false" disabled><input type="submit"><input type="reset" onclick="output.innerHTML='';function del(obj,isRepeat){if(!(obj instanceof Array))return;var count=0;while(obj.length){var i=obj.shift();if(isRepeat&&i instanceof Array){count+=del(i,true)}else if(typeof i==='string'&&i.indexOf('blob:')===0){window.URL.revokeObjectURL(i)}else if(window[i]!==undefined){window[i]=undefined;count++}};return count};del(window.urls);del(['urls','msg','reader','udSet','getSet'])" oncontextmenu="this.parentNode.reset();return false" title="Right click to reset the input only">
</form>
<span id="output" style="display:inline-block;text-align:justify"></span>
<div style="position:fixed;left:0;bottom:0;width:100%" class="cover"><input type="button" id="totop" style="display:none;margin:0 auto" title="Right click to do instantly" data-value="6" data-title="7" onclick="var timer=setInterval(function(){document.documentElement.scrollTop||document.body.scrollTop?window.scrollBy(0,-100):clearInterval(timer)},10)" oncontextmenu="window.location.hash='#top';window.location.hash='';return false" value="Go to top"><a href="https://github.com/2xh/2xh.github.io" data-lang="8" data-title="9" title="On GitHub">Source</a> | <a href="https://github.com/2xh/2xh.github.io/issues" data-lang="10">Feedback</a> | <label><span data-lang="11">Language:</span><select id="langsw" onchange="window.l.change(this.value)"><option value="en">English</option><option value="zhCN">中文 (简体)</option></select></label> | <label><input type="checkbox" onchange="var i=execute.wakeLock(this.checked);if(i!==0){this.checked=!this.checked;if(i===-1)this.disabled=true}"><span data-lang="17">Screen wake lock</span></label></div>
<script type="text/javascript">"use strict";function checkCompatibility(nosupport,options,out){var notSupport=0;for(var option=0;option<options.length;option++)if(nosupport[options[option].value]){options[option].disabled=true;options[option].innerHTML+=" "+l.c.d[15];notSupport++};if(notSupport)out.innerHTML=l.c.d[209]+notSupport+l.c.d[210]};window.onscroll=function(){if((document.documentElement.scrollTop||document.body.scrollTop)>window.innerHeight){if(totop.style.display==="none")totop.style.display="block"}else{if(totop.style.display==="block")totop.style.display="none"}};l.change(langsw.value=navigator.language.replace("-",""))</script>
</body>
</html>
