<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="color-scheme" content="light dark" />
<title>2xh的站点</title>
<link rel="icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAAQEAAAEAIAAwAAAAFgAAACgAAAABAAAAAgAAAAEAIAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAA==" />
<style type="text/css">body,table{text-align:center}p{color:dimgray}a:hover{color:black}a:active,input[type="reset"]:enabled{color:red}input[type="submit"],[type="reset"]{font-weight:bold}@media(prefers-color-scheme:dark){p{color:lightgray}a:hover{color:white}a:active{color:lime}}</style>
</head>
<body onscroll="if(document.documentElement.scrollTop||document.body.scrollTop){if(totop.style.display)totop.style.display=''}else{if(!totop.style.display)totop.style.display='none'}" onbeforeunload="return output.children.length?'':undefined" onunload="func.reset()">
<h1>只是一个网站</h1><p>注：脚本已下载到设备上，所有功能都可离线运行，不消耗流量。<br><a href="#" style="font-weight:bold" title="仅保存当前语言&#10;(如果不起作用，请手动保存)" download>保存本页</a>以供将来使用！</p><noscript><p style="font-weight:bold;color:red">Javascript不可用，启用以获得更好的体验。</p></noscript>
<form id="func" action="javascript:execute[func.elements[0].value](output,func.elements[1].value)">
<script type="text/javascript">'use strict';var execute={geolocation:function(out){out.innerHTML='正在获取位置……';navigator.geolocation.getCurrentPosition(function(pos){out.innerHTML='长度单位：m 角度单位：°<br>';for(var name in pos.coords)if(pos.coords[name]!==null)out.innerHTML+=name+': '+pos.coords[name]+'<br>';out.innerHTML+='<input type="button" onclick="func.elements[2].disabled=true;func.elements[3].disabled=true;var stop=\'<input type=&quot;button&quot; onclick=&quot;var out=this.parentNode;navigator.geolocation.clearWatch(watch);func.elements[2].disabled=false;func.elements[3].disabled=false;watch=undefined;out.removeChild(this);out.innerHTML+=\\\'已停止\\\'&quot; value=&quot;停止&quot;>\';window.watch=navigator.geolocation.watchPosition(function(pos){output.innerHTML=\'监视中……<br>\';for(var name in pos.coords)if(pos.coords[name]!==null)output.innerHTML+=name+\': \'+pos.coords[name]+\'<br>\';output.innerHTML+=stop},function(err){var type=[\'拒绝访问\',\'位置不可用\',\'超时\'];output.innerHTML=type[err.code-1]+\'<br>\'+stop},{enableHighAccuracy:true})" value="监视 (高精度)">'},function(err){var type=['拒绝访问','位置不可用','超时'];out.innerHTML=type[err.code-1]})},userAgent:function(out){out.innerHTML=navigator.userAgent},vibrate:function(out,arg){arg=arg.split(' ');out.innerHTML='振动'+arg+'ms';navigator.vibrate(arg)},DeviceMotion:function(out){func.elements[2].disabled=true;func.elements[3].disabled=true;var stop='<input type="button" onclick="var out=this.parentNode;window.removeEventListener(\'devicemotion\',handler);handler=undefined;func.elements[2].disabled=false;func.elements[3].disabled=false;out.removeChild(this);out.innerHTML+=\'已停止\'" value="停止">';window.handler=function(motion){out.innerHTML='线性加速度单位：m/s²<br>角速度单位：°/s<table border="1"><tr><th>轴</th><th>名称</th><th>绕轴旋转角</th></tr><tr><td>↔</td><td>x</td><td>alpha</td></tr><tr><td>↕</td><td>y</td><td>beta</td></tr><tr><td>·</td><td>z</td><td>gamma</td></tr></table>';var data='';for(var name in motion.acceleration)if(motion.acceleration[name]!==null)data+=name+': '+motion.acceleration[name]+'<br>';for(var name in motion.rotationRate)if(motion.rotationRate[name]!==null)data+=name+': '+motion.rotationRate[name]+'<br>';data===''?out.innerHTML+='传感器不可用<br>':out.innerHTML+=data;out.innerHTML+=stop};DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(function(status){if(status==='granted')window.addEventListener('devicemotion',handler)}):window.addEventListener('devicemotion',handler);out.innerHTML='无法获取运动信息<br>'+stop},Notify:function(out,arg){if(arg==='?'){out.innerHTML='语法：&lt;标题&gt;[``内容[``图标[``点击时执行的语句[``显示时执行的语句[``出错时执行的语句[``关闭时执行的语句]]]]]]';return};arg=arg.split('``');Notification.requestPermission().then(function(status){if(status==='granted'){window.msg=new Notification(arg[0],{body:arg[1],icon:arg[2]});msg.onclick=new Function(arg[3]);msg.onshow=new Function(arg[4]);msg.onerror=new Function(arg[5]);msg.onclose=new Function(arg[6]);out.innerHTML='通知已发送<br><input type="button" onclick="msg.close();this.parentNode.innerHTML=\'已关闭\'" value="关闭">'}else{out.innerHTML='拒绝访问'}})},copy:function(undefined,arg){if(arg==='?'){var elements=document.getElementsByTagName('*'),id=[];for(var element=0;element<elements.length;element++)if(elements[element].id)id.push(elements[element].id);alert('含有id的元素：\n'+id);return};if(document.getElementById(arg)){if(window.getSelection){window.getSelection().selectAllChildren(document.getElementById(arg));document.execCommand('copy')}else{alert(window.clipboardData.setData('text',document.getElementById(arg).innerText)?'完成':'失败')}}else{alert('未找到')}},custom:function(out,code){out.innerHTML='';try{new Function('output',code)(out)}catch(err){out.innerHTML='<p style="font-weight:bold;color:red">'+(err.stack?err.stack.indexOf(err.message)!==-1?err.stack.replace(/\n/g,'<br>'):err.name+': '+err.message+'<br>'+err.stack.replace(/\n/g,'<br>'):err.name+': '+err.message)+'</p>'+out.innerHTML}},readfile:function(out){out.innerHTML='<input type="file" onchange="info.innerHTML=\'\';if(!window.reader){window.reader=new FileReader();reader.onabort=function(){if(window.result)result.innerHTML=\'已终止\'}};window.files=this.files;for(var file=0;file<files.length;file++){for(var name in files[file])if(typeof files[file][name]!==\'function\')info.innerHTML+=name+\': \'+files[file][name]+\'<br>\';if(/html|css|javascript/i.test(files[file].type))info.innerHTML+=\'<input type=&quot;button&quot; onclick=&quot;switch(window.files[\'+file+\'].type){case \\\'text/javascript\\\':reader.onload=function(event){var js=document.createElement(\\\'script\\\');js.type=\\\'text/javascript\\\';js.innerHTML=event.target.result;result.appendChild(js)};break;case \\\'text/html\\\':reader.onload=function(event){window.open(\\\'javascript:document.write(innerHTML);innerHTML=undefined;document.close()\\\').innerHTML=event.target.result};break;case \\\'text/css\\\':reader.onload=function(event){var css=document.createElement(\\\'style\\\');css.type=\\\'text/css\\\';css.innerHTML=event.target.result;result.appendChild(css)}};reader.readAsText(window.files[\'+file+\'],\\\'\'+(isgbk.checked?\'gbk\':\'utf-8\')+\'\\\')&quot; value=&quot;读取并执行&quot;>\';info.innerHTML+=\'<input type=&quot;button&quot; onclick=&quot;reader.onload=function(event){result.innerText=event.target.result};reader.readAsText(window.files[\'+file+\'],\\\'\'+(isgbk.checked?\'gbk\':\'utf-8\')+\'\\\')&quot; value=&quot;读取并显示&quot;><input type=&quot;button&quot; onclick=&quot;reader.onload=function(event){result.innerHTML=event.target.result};reader.readAsDataURL(window.files[\'+file+\'],\\\'\'+(isgbk.checked?\'gbk\':\'utf-8\')+\'\\\')&quot; value=&quot;转为Base64&quot;><br>\'}" multiple><label><input type="checkbox" id="isgbk">GBK</label><br><span id="info"></span><span id="result" style="word-break:break-all"></span>'},audio:function(out){if(!window.audio){window.audio=new window.AudioContext();audio.onstatechange=function(){if(!window.mute)return;if(this.state==="running"){mute.disabled=false;mute.value="暂停";mute.onclick=function(){audio.suspend()}}else if(this.state!=="closed"){mute.value="恢复";mute.onclick=function(){audio.resume();this.disabled=true;this.value="请稍候……"}}}};audio.sonodes=audio.sonodes||[];audio.prnodes=audio.prnodes||[];audio.audioData=audio.audioData||[];audio.showNode=function(isSource,node){var ele=document.createElement('li'),data='';if(isSource?this.sonodes[node]:this.prnodes[node]){switch(isSource?this.sonodes[node].tp:this.prnodes[node].tp){case 'OscillatorNode':data='<label>类型：<select onchange="audio.sonodes['+node+'].type=this.value"><option value="sine">正弦波</option><option value="square">方波</option><option value="sawtooth">锯齿波</option><option value="triangle">三角波</option></select></label> <label>频率：<input type="number" onchange="if(+this.value<this.min){this.value=this.min}else if(+this.value>this.max){this.value=this.max};audio.sonodes['+node+'].frequency.value=this.value" min="'+-this.sampleRate/2+'" max="'+this.sampleRate/2+'" value="'+this.sonodes[node].frequency.value+'">Hz</label>';break;case 'AudioBufferSourceNode':data='<label>缓冲区：<select name="buffer" onchange="audio.sonodes['+node+'].buffer=audio.audioData[this.value-1];this.disabled=true" '+(this.sonodes[node].buffer?'disabled':'')+'>'+this.updateBuffer(false)+'</select></label> <label>调音：<input type="number" oninput="audio.sonodes['+node+'].detune.value=this.value" value="'+this.sonodes[node].detune.value+'"></label> <label title="如未选中，此节点将在缓冲区播放完成后自动移除">循环<input type="checkbox" onchange="audio.sonodes['+node+'].loop=this.checked" '+(this.sonodes[node].loop?'checked':'')+'></label> <label>速率：<input type="number" oninput="if(+this.value<this.min){this.value=this.min};audio.sonodes['+node+'].playbackRate.value=this.value" min="0" step="0.01" value="'+this.sonodes[node].playbackRate.value+'"></label>';break;case 'GainNode':data='<label>音量：<input type="number" oninput="audio.prnodes['+node+'].gain.value=this.value" step="0.01" value="'+this.prnodes[node].gain.value+'"></label>';break;case 'StereoPannerNode':data='<label>平衡：<input type="range" oninput="audio.prnodes['+node+'].pan.value=this.value;this.title=this.value" min="-1" max="1" step="0.01" value="'+this.prnodes[node].pan.value+'"></label>'}if(isSource){data+=' <label>连接到：<select name="connect" data-source data-index="'+node+'" onchange="var node=audio.sonodes['+node+'];node.disconnect();if(this.value){try{node.start()}catch(undefined){};node.connect(this.value===\'dest\'?audio.destination:audio.prnodes[this.value])};node.to=this.value"></select></label> <input type="button" onclick="audio.removeNode(true,'+node+',this.parentNode)" value="停止">'}else{if(this.prnodes[node].channelCountMode!=='max'){data+=' <label>声道数量：<input type="number" onchange="if(+this.value<this.min){this.value=this.min}else if(+this.value>this.max){this.value=this.max}else{this.value=parseInt(this.value)};audio.prnodes['+node+'].channelCount=this.value" min="1" max="'+audio.destination.maxChannelCount+'" value="'+this.prnodes[node].channelCount+'"></label>'};data+=' <label>连接到：<select name="connect" data-index="'+node+'" onchange="var node=audio.prnodes['+node+'];node.disconnect();if(this.value)node.connect(this.value===\'dest\'?audio.destination:audio.prnodes[this.value]);node.to=this.value"></select></label> <input type="button" onclick="audio.removeNode(false,'+node+',this.parentNode)" value="移除">'}}else{ele.style='text-decoration:line-through'};ele.innerHTML=data||'空空如也';if(isSource&&this.sonodes[node]){switch(this.sonodes[node].tp){case 'OscillatorNode':ele.getElementsByTagName('select')[0].value=this.sonodes[node].type;break;case 'AudioBufferSourceNode':ele.getElementsByTagName('select')[0].value=(this.audioData.indexOf(this.sonodes[node].buffer)+1||'')}this.sonodes[node].onended=function(){audio.removeNode(true,node,ele)}};return ele};audio.addNode=function(isSource,type){switch(type){case 'OscillatorNode':this.sonodes[this.sonodes.push(this.createOscillator())-1].tp='OscillatorNode';break;case 'AudioBufferSourceNode':this.sonodes[this.sonodes.push(this.createBufferSource())-1].tp='AudioBufferSourceNode';break;case 'GainNode':this.prnodes[this.prnodes.push(this.createGain())-1].tp='GainNode';break;case 'StereoPannerNode':this.prnodes[this.prnodes.push(this.createStereoPanner())-1].tp='StereoPannerNode'}var node=isSource?this.sonodes.length-1:this.prnodes.length-1;return this.showNode(isSource,node)};audio.removeNode=function(isSource,index,node){if(isSource){try{audio.sonodes[index].stop()}catch(undefined){};this.sonodes[index]=null}else{this.prnodes[index].disconnect();this.prnodes[index]=null;this.updateNode(index)};if(node){node.innerHTML=isSource?'已停止':'已移除';node.style='text-decoration:line-through';var panode=node.parentNode;if(panode)if(isSource){while(this.sonodes[this.sonodes.length-1]===null){panode.removeChild(panode.lastChild);this.sonodes.pop()}}else{while(this.prnodes[this.prnodes.length-1]===null){panode.removeChild(panode.lastChild);this.prnodes.pop()}}}};audio.updateNode=function(index){var sels=document.getElementsByName('connect'),data='<option value="">无</option><option value="dest">输出</option>';for(var node=0;node<this.prnodes.length;node++)if(this.prnodes[node])data+='<option value="'+node+'">'+(node+1)+'</option>';for(var sel=0,node;sel<sels.length;sel++){node=sels[sel].hasAttribute('data-source')?this.sonodes[sels[sel].getAttribute('data-index')]:this.prnodes[sels[sel].getAttribute('data-index')];sels[sel].innerHTML=data;if(node){sels[sel].value=node.to==index?node.to='':node.to||''}}};audio.addData=function(type,opt1,opt2,opt3){try{switch(type){case 'AudioBuffer':this.audioData[this.audioData.push(this.createBuffer(opt1,opt2,opt3))-1].tp='AudioBuffer';this.updateBuffer(true)}}catch(err){alert('创建'+type+'失败，可能是因为内存不足？'+'\n\n'+err.name+': '+err.message);return};var ad=this.audioData.length-1;return this.showData(ad)};audio.showData=function(ad){var ele=document.createElement('li'),data='';if(this.audioData[ad]){switch(this.audioData[ad].tp){case 'AudioBuffer':data='声道数量：'+this.audioData[ad].numberOfChannels+' 采样率：'+this.audioData[ad].sampleRate+'Hz 时长：'+this.audioData[ad].duration+'s <input type="button" onclick="info.innerHTML=\'正在编辑：<span style=\\\'font-weight:bold\\\'>'+(ad+1)+'</span> 长度：<span style=\\\'font-weight:bold\\\'>'+this.audioData[ad].length+'帧</span> <label>声道：<input type=\\\'number\\\' min=\\\'1\\\' max=\\\''+this.audioData[ad].numberOfChannels+'\\\' required></label>\';bfeditor.action=\'javascript:\\\'use strict\\\';(function(input){var data=audio.audioData['+ad+'].getChannelData(input[0].value-1);input[6].disabled-true;for(var ch=input[1].value-1;ch<+input[2].value;ch+=+input[3].value)data[ch]=input[5].value==input[4].value?+input[4].value:Math.random()*(input[5].value-input[4].value)+(+input[4].value);input[6].disabled=false})(bfeditor.elements)\';fill.disabled=false;bfeditor.style.display=\'\';bfeditor.elements[2].max=audio.audioData['+ad+'].length" value="编辑内容"><input type="button" onclick="var from=parseInt(prompt(\'输入源声道：\'))-1,to=parseInt(prompt(\'输入目标声道：\'))-1,offset=Math.abs(parseInt(prompt(\'目标偏移：(可选)\')));if(!(from>=0&&to>=0)){alert(\'非法输入\');return};try{audio.audioData['+ad+'].copyToChannel(audio.audioData['+ad+'].getChannelData(from),to,offset);alert(\'完成\')}catch(err){alert(err.name+\': \'+err.message)}" value="声道间复制">'}}else{ele.style='text-decoration:line-through'};ele.innerHTML=data||'空空如也';return ele};audio.updateBuffer=function(isModify){var sels=document.getElementsByName('buffer'),data='<option value="">空</option>';for(var dt=0;dt<this.audioData.length;dt++)if(this.audioData[dt].tp==='AudioBuffer')data+='<option value="'+(dt+1)+'">'+(dt+1)+'</option>';if(isModify){for(var sel=0,dt;sel<sels.length;sel++){dt=sels[sel].value;sels[sel].innerHTML=data;sels[sel].value=dt}}else{return data}};out.innerHTML='<p>这只是<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API">Web Audio API</a>的冰山一角。<br>当前采样率：<span style="font-weight:bold">'+audio.sampleRate+'Hz</span><br><span style="font-weight:bold">注意：过多的节点或缓冲区会使浏览器崩溃！</span><br>音高到频率转换器：<br><input type="number" oninput="this.nextSibling.value=this.value?440*2**((this.value-69)/12):\'\'" min="0" placeholder="音高"><input type="number" oninput="if(+this.value<this.min){this.value=this.min};this.previousSibling.value=+this.value>this.min?Math.log2(this.value/440)*12+69:\'\'" min="0" step="0.001" placeholder="频率"></p><label>声道数量：<input type="number" onchange="if(+this.value<this.min){this.value=this.min}else if(+this.value>this.max){this.value=this.max}else{this.value=parseInt(this.value)};audio.destination.channelCount=this.value" min="1" max="'+audio.destination.maxChannelCount+'" value="'+audio.destination.channelCount+'"></label> <input type="button" id="mute" '+(audio.state==='suspended'?'onclick="audio.resume();this.disabled=true;this.value=\'请稍候……\'" value="恢复"':'onclick="if(audio.suspend){audio.suspend()}else{this.disabled=true}" value="暂停"')+'><input type="reset" onclick="for(var node=0;node<audio.sonodes.length;node++)if(audio.sonodes[node])audio.removeNode(true,node);for(var node=0;node<audio.prnodes.length;node++)if(audio.prnodes[node])audio.removeNode(false,node);audio.sonodes=audio.prnodes=audio.audioData=audio.showNode=audio.addNode=audio.removeNode=audio.updateNode=audio.addData=audio.showData=audio.updateBuffer=undefined;if(audio.close){audio.close();audio=undefined};this.parentNode.innerHTML=\'已停止\'" value="停止"><br><select onchange="switch(this.value){case \'AudioBuffer\':this.nextSibling.placeholder=\'帧数\'}"><option value="AudioBuffer">音频缓冲区</option></select><input type="number" onchange="this.value=+this.value<this.min?this.value?this.min:\'\':parseInt(this.value)" oninput="this.nextSibling.disabled=!this.value" min="1" placeholder="帧数"><input type="button" onclick="var dt=audio.addData(this.previousSibling.previousSibling.value,audio.destination.channelCount,this.previousSibling.value,audio.sampleRate);if(dt)this.nextSibling.nextSibling.appendChild(dt)" value="新音频数据" disabled><input type="reset" onclick="audio.audioData=[];this.nextSibling.innerHTML=\'\';bfeditor.reset();for(var node=0;node<audio.sonodes.length;node++)if(audio.sonodes[node]&&audio.sonodes[node].buffer)audio.removeNode(true,node,this.parentNode.getElementsByTagName(\'ul\')[0].childNodes[node]);audio.updateBuffer(true)" value="清空音频数据"><ol></ol><form action="javascript:" id="bfeditor" style="display:none" onreset="this.action=\'javascript:\';info.innerHTML=\'\';fill.disabled=true;this.style.display=\'none\'">编辑器：<p>此编辑器将帮助向缓冲区填充一些随机噪音（PCM编码）。<br><span style="font-weight:bold">不同声道的数据分开存放</span>，请注意。<br>所做的更改将会在<span style="font-weight:bold">点击“填充”按钮时</span>生效。</p><p id="info"></p><label>起始：<input type="number" onchange="this.parentNode.nextElementSibling.childNodes[1].min=this.value" placeholder="输入帧数" min="1" required></label> <label>终止：<input type="number" onchange="this.parentNode.previousElementSibling.childNodes[1].max=this.value" placeholder="输入帧数" required></label> <label>步长：<input type="number" min="1" value="1" required></label><br>随机范围：<input type="number" step="0.001" required>~<input type="number" step="0.001" required> <input id="fill" type="submit" value="填充"><input type="reset" value="完成"></form><select><option value="OscillatorNode">振荡器</option><option value="AudioBufferSourceNode">音频缓冲区源</option></select><input type="button" onclick="this.nextSibling.appendChild(audio.addNode(true,this.previousSibling.value));audio.updateNode()" value="新节点 (音源)"><ul></ul><select><option value="GainNode">音量</option><option value="StereoPannerNode">立体声平衡</option></select><input type="button" onclick="this.nextSibling.appendChild(audio.addNode(false,this.previousSibling.value));audio.updateNode()" value="新节点 (处理)"><ol></ol>';for(var ad=0;ad<audio.audioData.length;ad++)out.getElementsByTagName('ol')[0].appendChild(audio.showData(ad));for(var node=0;node<audio.sonodes.length;node++)out.getElementsByTagName('ul')[0].appendChild(audio.showNode(true,node));for(var node=0;node<audio.prnodes.length;node++)out.getElementsByTagName('ol')[1].appendChild(audio.showNode(false,node));audio.updateNode()},speak:function(out){window.tts=window.tts||{ss:window.speechSynthesis,utters:[],showUtter:function(ut,isText){var ele=isText?{}:document.createElement('li');ele.innerHTML=ut?'语种：'+ut.voice.name+' 音高：'+ut.pitch+' 语速：'+ut.rate+' 音量：'+ut.volume:'（空）';return ele},updateUtter:function(isModify){var data='<option value="">新发音</option>';for(var ut=0;ut<this.utters.length;ut++)data+='<option value="'+ut+'">'+(ut+1)+'</option>';if(isModify){var sel=uteditor.elements[0],dt=sel.value;sel.innerHTML=data;sel.value=dt}else{return data}},updateVoice:function(){this.voices=this.ss.getVoices();var dton='',dtoff='';for(var voice=0,data;voice<this.voices.length;voice++){data='<option value="'+voice+'" '+(this.voices[voice]['default']?'selected':'')+'>'+this.voices[voice].name+'</option>';this.voices[voice].localService?dtoff+=data:dton+=data};return '<optgroup label="在线语音">'+dton+'</optgroup>'+'<optgroup label="离线语音">'+dtoff+'</optgroup>'},defineEvent:function(ut){ut.onresume=ut.onstart=function(event){if(window.state){state.innerHTML='讲话中'+(tts.ss.pending?'...':'')}else{return};pausebtn.value='暂停';pausebtn.disabled=false;stopbtn.value='停止'};ut.onpause=function(event){if(window.state){state.innerHTML='在第'+(event.charIndex+1)+'个字符处暂停'}else{return};pausebtn.value='恢复'};ut.onend=function(event){if(window.state){state.innerHTML='完成（用时：'+event.elapsedTime+'(m)s）'}else{return};if(!tts.ss.speaking)pausebtn.disabled=true;stopbtn.value='重置'};ut.onerror=function(event){if(window.state){state.innerHTML='错误：'+(event.error?event.error:'')}else{alert('错误：'+(event.error?event.error:''));return};stopbtn.value='重置'};return ut}};if(!tts.ss.paused)tts.ss.resume();out.innerHTML='<p>当前状态：<span style="font-weight:bold" id="state">'+(tts.ss.speaking?tts.ss.paused?'暂停中':'讲话中':'空闲')+(tts.ss.pending?'...':'')+'</span> <input type="button" id="pausebtn" onclick="if(this.value===\'暂停\'){tts.ss.pause();this.value=\'恢复\'}else{tts.ss.resume();this.value=\'暂停\'}" value="'+(tts.ss.paused?'恢复':'暂停')+'" '+(tts.ss.speaking?'':'disabled')+'><input type="reset" id="stopbtn" onclick="if(tts.ss.speaking){tts.ss.cancel()}else{for(var ele in tts)tts[ele]=undefined;tts=undefined;this.parentNode.parentNode.innerHTML=\'已重置\'}" value="'+(tts.ss.speaking?'停止':'重置')+'"></p><textarea placeholder="在此输入文本（拖动以扩大空间）">'+(tts.cu?tts.cu.text:'')+'</textarea><input type="button" id="speakbtn" style="font-weight:bold" onclick="tts.cu.text=this.previousSibling.value;tts.ss.speak(tts.cu);tts.ss.resume()" value="讲话" '+(tts.cu?'':'disabled')+'><p>当前设置：<span style="font-weight:bold">'+tts.showUtter(tts.cu,true).innerHTML+'</span> <input type="button" onclick="var list=this.parentNode.parentNode.lastChild,ut=tts.utters[tts.utters.push(tts.cu)-1];list.appendChild(tts.showUtter(ut));ut.isSaved=true;this.disabled=true;tts.updateUtter(true)" value="保存" '+((tts.cu&&!tts.cu.isSaved)?'':'disabled')+'></p><form action="javascript:" onsubmit="tts.cu=function(input){var utter=input[0].value?tts.utters[input[0].value]:tts.defineEvent(new SpeechSynthesisUtterance());utter.voice=tts.voices[input[1].value];utter.pitch=input[2].value;utter.rate=input[3].value;utter.volume=input[4].value;return utter}(this.elements);speakbtn.disabled=false;this.previousSibling.childNodes[1].innerHTML=tts.showUtter(tts.cu,true).innerHTML;if(this.elements[0].value){var ut=this.elements[0].value,list=this.parentNode.lastChild;tts.utters[ut]=tts.cu;list.replaceChild(tts.showUtter(tts.utters[ut]),list.childNodes[ut])};this.previousSibling.lastChild.disabled=tts.cu.isSaved" id="uteditor">选项：<label>模板：<select onchange="if(this.value){var opt=uteditor.elements,ut=tts.utters[this.value];opt[1].value=tts.voices.indexOf(ut.voice);opt[2].value=ut.pitch;opt[3].value=ut.rate;opt[4].value=ut.volume}">'+tts.updateUtter(false)+'</select></label><br><label>语种：<select required>'+tts.updateVoice()+'</select></label><br><label>音高：<input type="range" onchange="this.title=this.value" min="0" max="2" step="0.01" value="1"></label> <label>语速<input type="range" onchange="this.title=this.value" min="0.1" max="10" step="0.01" value="1"></label> <label>音量：<input type="range" onchange="this.title=this.value" min="0" max="1" step="0.01" value="1"></label> <input type="submit"><input type="reset"></form>保存的模板：<input type="reset" onclick="tts.utters=[];this.nextSibling.innerHTML=uteditor.elements[0].value=\'\';tts.updateUtter(true);if(tts.cu)tts.cu.isSaved=false;this.previousElementSibling.previousSibling.lastChild.disabled=!tts.cu" value="清空"><ol></ol>';for(var ut=0;ut<tts.utters.length;ut++)out.getElementsByTagName('ol')[0].appendChild(tts.showUtter(tts.utters[ut]))}}</script>
<select name="function" onchange="var selected=this.options[this.selectedIndex],arg=this.parentNode.elements[1];(arg.disabled=selected.getAttribute('data-required')===null)?arg.removeAttribute('placeholder'):arg.placeholder=selected.getAttribute('data-required')" required>
<option value="" hidden>选择功能</option>
<optgroup label="看些什么">
<option value="geolocation">显示/监视位置</option>
<option value="userAgent">显示用户代理 (UA)</option>
<option value="DeviceMotion">监视设备运动</option>
</optgroup>
<optgroup label="听些什么">
<option value="audio">播放音频</option>
<option value="speak">文本转语音 (TTS)</option>
</optgroup>
<optgroup label="做些什么">
<option value="vibrate" data-required="时间 (ms)，用空格分隔">振动</option>
<option value="Notify" data-required="选项，输入&quot;?&quot;(半角)获取帮助">显示通知</option>
<option value="copy" data-required="元素，输入&quot;?&quot;(半角)显示id">复制</option>
<option value="custom" data-required="输入或粘贴代码">运行Javascript</option>
<option value="readfile">读取文件</option>
</optgroup>
</select>
<script type="text/javascript">'use strict';(function(nosupport,options){for(var option=0;option<options.length;option++)if(nosupport[options[option].value]){options[option].disabled=true;options[option].innerHTML+=" (不支持)"}})({geolocation:!navigator.geolocation,vibrate:!navigator.vibrate,DeviceMotion:!window.DeviceMotionEvent,Notify:!window.Notification,readfile:!window.FileReader,audio:!window.AudioContext,speak:!window.speechSynthesis},func.elements[0].options)</script>
<input type="text" name="arg" disabled required><input type="submit"><input type="reset" onclick="output.innerHTML='';for(var i=0,removal=['files','msg','reader'];i<removal.length;i++)if(window[removal[i]])window[removal[i]]=undefined">
</form>
<span id="output" style="display:inline-block;text-align:justify"></span><br><br><br>
<div style="position:fixed;bottom:0;width:100%"><input type="button" id="totop" style="display:none" onclick="var timer=setInterval(function(){document.documentElement.scrollTop||document.body.scrollTop?window.scrollBy(0,-100):clearInterval(timer)},10)" value="返回顶部"><br><a href="https://github.com/2xh/2xh.github.io" title="在Github上">源代码</a> | <a href="https://github.com/2xh/2xh.github.io/issues">反馈</a> | <label>语言：<select onchange="var lang=this.value;this.selectedIndex=0;window.location='index'+lang+'.htm'"><option value="_zh-Hans" hidden>中文 (简体)</option><option value="">English</option></select></label></div>
</body>
</html>
