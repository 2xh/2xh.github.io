<!DOCTYPE html>
<html lang="zh-Hans">
<head>
<meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width,initial-scale=1" />
<title>2xh的Github站点</title>
<link rel="shortcut icon" type="image/x-icon" href="data:image/x-icon;base64,AAABAAEAAQEAAAEAIAAwAAAAFgAAACgAAAABAAAAAgAAAAEAIAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAA==" />
<style type="text/css">body,table{text-align:center}p{color:dimgray}a:hover{color:black}@media(prefers-color-scheme:dark){p{color:lightgray}a:link{color:yellow}a:visited{color:aqua}*,a:hover{background:black;color:white}}</style>
</head>
<body onunload="show.reset()">
<h1>欢迎!</h1><p>功能很少，<a href="https://github.com/2xh/2xh.github.io/issues" style="font-weight:bold">给点建议?</a></p><noscript><p style="font-weight:bold;color:red">Javascript不可用，某些功能已被禁用。</p></noscript>
<form id="show" action="javascript:execute[show.elements[0].value](output,show.elements[1].value)">
<script type="text/javascript">var execute={nosupport:function(){output.innerHTML='浏览器不支持'},geolocation:function(output){if(navigator.geolocation){output.innerHTML='正在获取位置……';navigator.geolocation.getCurrentPosition(function(pos){output.innerHTML='长度单位：m 角度单位：°<br>';for(var name in pos.coords)if(pos.coords[name]!==null)output.innerHTML+=name+': '+pos.coords[name]+'<br>';output.innerHTML+='<input type="button" onclick="show.elements[2].disabled=true;show.elements[3].disabled=true;var stop=\'<input type=&quot;button&quot; onclick=&quot;navigator.geolocation.clearWatch(watch);show.elements[2].disabled=false;show.elements[3].disabled=false;this.parentNode.removeChild(this);output.innerHTML+=\\\'已停止\\\'&quot; value=&quot;停止&quot;>\';window.watch=navigator.geolocation.watchPosition(function(pos){output.innerHTML=\'监视中……<br>\';for(var name in pos.coords)if(pos.coords[name]!==null)output.innerHTML+=name+\': \'+pos.coords[name]+\'<br>\';output.innerHTML+=stop},function(err){var type=[\'拒绝访问\',\'位置不可用\',\'超时\'];output.innerHTML=type[err.code-1]+\'<br>\'+stop},{enableHighAccuracy:true})" value="监视(高精度)">'},function(err){var type=['拒绝访问','位置不可用','超时'];output.innerHTML=type[err.code-1]})}else{this.nosupport()}},userAgent:function(output){output.innerHTML=navigator.userAgent},vibrate:function(output,arg){arg=arg.split(' ');if(navigator.vibrate){output.innerHTML='按以下时间(ms)振动：'+arg;navigator.vibrate(arg)}else{this.nosupport()}},DeviceMotion:function(output){if(window.DeviceMotionEvent){show.elements[2].disabled=true;show.elements[3].disabled=true;var stop='<input type="button" onclick="window.removeEventListener(\'devicemotion\',handler);show.elements[2].disabled=false;show.elements[3].disabled=false;this.parentNode.removeChild(this);output.innerHTML+=\'已停止\'" value="停止">';window.handler=function(motion){output.innerHTML='线性加速度单位：m/s²<br>角速度单位：°/s<table border="1"><tr><th>轴</th><th>名称</th><th>绕轴旋转角</th></tr><tr><td>↔</td><td>x</td><td>alpha</td></tr><tr><td>↕</td><td>y</td><td>beta</td></tr><tr><td>·</td><td>z</td><td>gamma</td></tr></table>';var data='';for(var name in motion.acceleration)if(motion.acceleration[name]!==null)data+=name+': '+motion.acceleration[name]+'<br>';for(var name in motion.rotationRate)if(motion.rotationRate[name]!==null)data+=name+': '+motion.rotationRate[name]+'<br>';data===''?output.innerHTML+='设备不支持<br>':output.innerHTML+=data;output.innerHTML+=stop};DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(function(status){if(status==='granted')window.addEventListener('devicemotion',handler)}):window.addEventListener('devicemotion',handler);output.innerHTML='无法获取运动信息<br>'+stop}else{this.nosupport()}},Notify:function(output,arg){if(arg==='?'){output.innerHTML='语法：&lt;标题&gt;[``内容[``图标[``点击时执行的语句[``显示时执行的语句[``出错时执行的语句[``关闭时执行的语句]]]]]]';return};arg=arg.split('``');if(window.Notification){Notification.requestPermission().then(function(status){if(status==='granted'){window.msg=new Notification(arg[0],{body:arg[1],icon:arg[2]});msg.onclick=new Function(arg[3]);msg.onshow=new Function(arg[4]);msg.onerror=new Function(arg[5]);msg.onclose=new Function(arg[6]);output.innerHTML='通知已发送<br><input type="button" onclick="msg.close();output.innerHTML=\'已关闭\'" value="关闭">'}else{output.innerHTML='拒绝访问'}})}else{this.nosupport()}},custom:function(output,code){output.innerHTML='';try{new Function('output',code)(output)}catch(err){output.innerHTML='<p style="font-weight:bold;color:red">'+(err.stack?err.stack.replace(/\n/g,'<br>'):err.name+': '+err.message)+'</p>'+output.innerHTML}},readfile:function(output){output.innerHTML='<input type="file" onchange="info.innerHTML=\'\';if(window.FileReader){if(!window.reader){window.reader=new FileReader();reader.onabort=function(){result.innerHTML=\'Aborted\'}};window.files=this.files;for(var file=0;file<files.length;file++){for(var name in files[file])if(typeof files[file][name]!==\'function\')info.innerHTML+=name+\': \'+files[file][name]+\'<br>\';if(/html|css|javascript/i.test(files[file].type))info.innerHTML+=\'<input type=&quot;button&quot; onclick=&quot;switch(window.files[\'+file+\'].type){case \\\'text/javascript\\\':reader.onload=function(event){execute.custom(result,event.target.result)};break;case \\\'text/html\\\':reader.onload=function(event){window.open().document.write(event.target.result)};break;case \\\'text/css\\\':reader.onload=function(event){result.innerHTML+=\\\'<style type=&amp;quot;text/css&amp;quot;>\\\'+event.target.result+\\\'</style>\\\'}};reader.readAsText(window.files[\'+file+\'],\\\'\'+(isgbk.checked?\'gbk\':\'utf-8\')+\'\\\')&quot; value=&quot;读取并执行&quot;>\';info.innerHTML+=\'<input type=&quot;button&quot; onclick=&quot;reader.onload=function(event){result.innerHTML=event.target.result.replace(\'+/</g+\',\\\'&amp;amp;lt;\\\').replace(\'+/>/g+\',\\\'&amp;amp;gt;\\\').replace(\'+/\\n/g+\',\\\'<br>\\\')};reader.readAsText(window.files[\'+file+\'],\\\'\'+(isgbk.checked?\'gbk\':\'utf-8\')+\'\\\')&quot; value=&quot;读取并显示&quot;><input type=&quot;button&quot; onclick=&quot;reader.onload=function(event){result.innerHTML=event.target.result};reader.readAsDataURL(window.files[\'+file+\'],\\\'\'+(isgbk.checked?\'gbk\':\'utf-8\')+\'\\\')&quot; value=&quot;转为Base64&quot;><br>\'}}else{execute.nosupport()}" multiple><input type="checkbox" id="isgbk">GBK<br><span id="info"></span><span id="result" style="word-break:break-all"></span>'}};window.onscroll=function(){document.body.scrollTop||document.documentElement.scrollTop?totop.style.display='':totop.style.display='none'}</script>
<select name="function" onchange="var selected=this.options[this.selectedIndex];var arg=this.parentNode.elements[1];(arg.disabled=selected.getAttribute('data-required')===null)?arg.removeAttribute('placeholder'):arg.placeholder=selected.getAttribute('data-required')" required>
<option value="" hidden>选择功能</option>
<option value="geolocation">显示/监视位置</option>
<option value="userAgent">显示用户代理(UA)</option>
<option value="vibrate" data-required="时间(ms)，用空格分隔">振动</option>
<option value="DeviceMotion">监视设备运动</option>
<option value="Notify" data-required="选项，输入&quot;?&quot;(半角)获取帮助">显示通知</option>
<option value="custom" data-required="输入或粘贴代码">运行Javascript</option>
<option value="readfile">读取文件</option>
</select>
<input type="text" name="arg" disabled required><input type="submit"><input type="reset" onclick="output.innerHTML=''">
</form>
<span id="output" style="display:inline-block;text-align:justify"></span><br><br>
<div style="position:fixed;bottom:0;width:100%"><input type="button" style="display:none" onclick="var timer=setInterval(function(){document.body.scrollTop||document.documentElement.scrollTop?window.scrollBy(0,-10):clearInterval(timer)},5)" value="返回顶部"><br><a href="https://github.com/2xh/2xh.github.io">源代码</a> | <a href="https://github.com/2xh/2xh.github.io/issues">反馈</a> | 语言：<select onchange="window.location='index'+this.value+'.htm'"><option value="_zh-Hans" hidden>中文(简体)</option><option value="">English</option></select></div>
</body>
</html>
